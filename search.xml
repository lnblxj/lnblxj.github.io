<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>【置顶】 置顶内容</title>
      <link href="/posts/864e5905.html"/>
      <url>/posts/864e5905.html</url>
      
        <content type="html"><![CDATA[<h1 id="语言切换"><a href="#语言切换" class="headerlink" title="语言切换"></a>语言切换</h1><p>开启 <code>繁</code> <code>简</code> 体转换功能，可通过右下角<i class="fas fa-cog fa-spin"></i> 切换</p><h1 id="公共CDN"><a href="#公共CDN" class="headerlink" title="公共CDN"></a>公共CDN</h1><h2 id="地址迁移"><a href="#地址迁移" class="headerlink" title="地址迁移"></a>地址迁移</h2><p>由于 <code>fastly.jsdelivr.net</code> 的域名部分地区无法访问，已将部分项目公共CDN迁移至 <code>cdn.staticfile.net</code>.</p><p>一些仍依赖于 <code>fastly.jsdelivr.net</code> 的项目可能需要多次刷新尝试才可使用</p><h2 id="迁移记录"><a href="#迁移记录" class="headerlink" title="迁移记录"></a>迁移记录</h2><ul><li>2022年初 cdn.jsdelivr.net 牌照被撤销，迁移至 自建CDN</li><li>自建CDN 月流量超出100G限额 迁移至 fastly.jsdelivr.net</li><li>2024年末 fastly.jsdelivr.net 被DNS污染 迁移至 cdn.bootcdn.net</li><li>迁移至 cdn.bootcdn.net 当晚近半文件出现504超时  迁移至 cdn.staticfile.net</li></ul><h1 id="私有云不再对外开放"><a href="#私有云不再对外开放" class="headerlink" title="私有云不再对外开放"></a>私有云不再对外开放</h1><p>出于安全考虑，私有云(pan.no51.top)不再对外开放，如需访问请连接虚拟局域网。</p>]]></content>
      
      
      
        <tags>
            
            <tag> 公告 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【笔记】Csharp 单例线程安全</title>
      <link href="/posts/a410ddae.html"/>
      <url>/posts/a410ddae.html</url>
      
        <content type="html"><![CDATA[<h1 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h1><p>想定义一个单例模式模板类<code>SingletonBase&lt;T&gt;</code>,用于管理单例模式下的唯一实例。当子类继承这个基类时，它们会自动声明为单例模式。</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">Common</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 实例基类</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SingletonBase</span>&lt;<span class="title">T</span>&gt; <span class="keyword">where</span> <span class="title">T</span>: <span class="title">SingletonBase</span>&lt;<span class="title">T</span>&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> T instance;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取单例实例</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> T Instance</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    instance = System.Activator.CreateInstance(<span class="keyword">typeof</span>(T), <span class="literal">true</span>) <span class="keyword">as</span> T;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> instance;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>上述实现没有考虑多线程环境下的安全性。如果在多线程环境中使用，可能会有多个线程几乎同时检查 <code>instance</code> 是否为 <code>null</code>，从而可能导致创建多个实例。</p><h1 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h1><p>在场景中查找是否已存在该类型的实例，如果场景中不存在该类型的实例，则创建一个新的GameObject并添加该组件</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Common</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SingletonBase</span>&lt;<span class="title">T</span>&gt; : <span class="title">MonoBehaviour</span> <span class="keyword">where</span> <span class="title">T</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> T instance;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> T Instance</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">get</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">// 在场景中查找是否已存在该类型的实例</span></span><br><span class="line">                    instance = FindObjectOfType&lt;T&gt;();</span><br><span class="line">                    <span class="comment">// 如果场景中不存在该类型的实例，则创建一个新的GameObject并添加该组件</span></span><br><span class="line">                    <span class="keyword">if</span> (instance == <span class="literal">null</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        GameObject singletonObject = <span class="keyword">new</span> GameObject(<span class="keyword">typeof</span>(T).Name + <span class="string">&quot;_Singleton&quot;</span>);</span><br><span class="line">                        instance = singletonObject.AddComponent&lt;T&gt;();</span><br><span class="line">                        DontDestroyOnLoad(singletonObject);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> instance;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 确保在场景切换时不会销毁该实例</span></span><br><span class="line">            DontDestroyOnLoad(gameObject);</span><br><span class="line">            <span class="comment">// 检查是否存在重复的实例</span></span><br><span class="line">            <span class="keyword">if</span> (instance == <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                instance = <span class="keyword">this</span> <span class="keyword">as</span> T;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                Destroy(gameObject);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一些好用的站点</title>
      <link href="/posts/3ad1d197.html"/>
      <url>/posts/3ad1d197.html</url>
      
        <content type="html"><![CDATA[<p>📙分享一些在收藏夹存了好久的站点</p><ul><li><p>🌈数百条收藏夹数据</p></li><li><p>🌈持续更新</p></li><li><p>🌈不断收集</p></li></ul><h1 id="Unity-资源"><a href="#Unity-资源" class="headerlink" title="Unity 资源"></a>Unity 资源</h1><h2 id="pixabay"><a href="#pixabay" class="headerlink" title="pixabay"></a>pixabay</h2><p><a href="https://pixabay.com/zh/music/">https://pixabay.com/zh/music/</a></p><p>免版税音乐可供下载，超过 80000 首免费的音乐曲目。</p><p><img src="https://pic.imgdb.cn/item/670260cbd29ded1a8c22b323.png"></p><h2 id="Assets-Kenney"><a href="#Assets-Kenney" class="headerlink" title="Assets Kenney"></a>Assets Kenney</h2><p>低面素材、游戏音效、UI素材下载</p><p><a href="https://kenney.nl/assets/category:3D/page:3?sort=update">https://kenney.nl/assets/category:3D/page:3?sort=update</a></p><p><img src="https://pic.imgdb.cn/item/67026380d29ded1a8c252d5c.png"></p><h2 id="更多Unity-开发资源"><a href="#更多Unity-开发资源" class="headerlink" title="更多Unity 开发资源"></a>更多Unity 开发资源</h2><details>  <summary>内容过多 已经折叠 点击展开</summary><h2 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h2><ul><li><p><a href="https://github.com/GaoKaiHaHa/MyUnityFrameWork">Unity 基础框架-MyUnityFrameWork</a></p></li><li><p><a href="EllanJiang/GameFramework">Unity 游戏框架-GameFramework</a></p></li><li><p><a href="Elringus/UnityCommon">Unity 公用框架和工具-Moments</a></p></li><li><p><a href="ted10401/TEDCore">Unity 基础框架-TEDCore</a></p></li><li><p><a href="sassembla/Autoya">Unity 小框架-Autoya</a></p></li><li><p><a href="https://github.com/Elringus/UnityCommon">Unity 公共代码库-UnityCommon</a></p></li><li><p><a href="CatLib/Core">Unity 游戏框架-CatLib</a></p></li><li><p><a href="winddyhe/knight">Unity 游戏框架-knight</a></p></li><li><p><a href="mr-kelly/KSFramework">Unity 游戏框架-KSFramework</a></p></li><li><p><a href="yimengfan/BDFramework.Core">Unity 游戏框架-BDFramework.Core</a></p></li><li><p><a href="GaoKaiHaHa/MyUnityFrameWork">Unity 游戏框架-MyUnityFrameWork</a></p></li><li><p><a href="liangxiegame/QFramework">Unity 游戏框架-QFramework</a></p></li><li><p><a href="https://github.com/sschmid/Entitas-CSharp">Unity ECS框架-Entitas-CSharp</a></p></li><li><p><a href="UnityCommunity/UnityLibrary">Unity 游戏代码库-UnityLibrary</a></p></li><li><p><a href="Real-Serious-Games/C-Sharp-Promise">Unity 异步操作框架-C-Sharp-Promise</a></p></li><li><p><a href="zhangbincheng1997/Game-Tricks">Unity 功能收集-Unity-Tricks</a></p></li><li><p><a href="TobiasWehrum/unity-utilities">Unity 功能脚本集合-unity-utilities</a></p></li><li><p><a href="ArchonInteractive/SwissArmyLib">Unity 公用代码收集-SwissArmyLib</a></p></li><li><p><a href="BepInEx/BepInEx">Unity 游戏修补程序和插件框架-BepInEx</a></p></li><li><p><a href="Leopotam/LeopotamGroupLibraryUnity.Examples">Unity 代码库集合-LeopotamGroupLibraryUnity.Examples</a></p></li><li><p><a href="modesttree/Unity3dAsyncAwaitUtil">Unity 取代协程的async-await-Unity3dAsyncAwaitUtil</a></p></li><li><p><a href="XINCGer/ColaFrameWork">Unity 游戏框架-ColaFrameWork</a></p></li><li><p><a href="Dynatrace/superdump">Crash 分析服务-superdump</a></p></li><li><p><a href="michidk/Unity-Script-Collection">Unity 代码集合-Unity-Script-Collection</a></p></li><li><p><a href="sschmid/Entitas-CSharp">Unity ECS框架-Entitas-CSharp</a></p></li><li><p>[Unity 连式编程框架-UniRx - Reactive Extensions for Unity](UniRx - Reactive Extensions for Unity | Integration | Unity Asset Store)</p></li><li><p>[Unity 跨平台网络库-Photon Unity Networking Classic - FREE](Photon Unity Networking Classic - FREE | Network | Unity Asset Store)</p></li><li><p><a href="BeardedManStudios/ForgeNetworkingRemastered">Unity 面向后端的网络框架-ForgeNetworkingRemastered</a></p></li><li><p><a href="coding2233/UnityGameFramework">Unity GameFramework, ILRuntime, Unity Version 2018.2</a></p></li><li><p>[Unity ECS入门-entity-component-system-for-unity-getting-started](Entity Component System for Unity: Getting Started)</p></li><li><p><a href="ellisspice/BUCK">Unity 组件库-BUCK</a></p></li><li><p><a href="sebastianstarke/AI4Animation">Unity AI深度学习动画框架-AI4Animation</a></p></li><li><p><a href="traggett/UnityFramework">Unity 通用框架代码-UnityFramework</a></p></li><li><p><a href="haolange/InfinityRenderPipeline">Unity SRP图形技术研究-InfinityRenderPipeline</a></p></li><li><p><a href="dotBunny/GDX">Unity 游戏开发扩展库-GDX</a></p></li></ul><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><ul><li><p><a href="keijiro/Voxelman">Unity ECS + C# Job System-Voxelman</a></p></li><li><p><a href="keijiro/Retro3DPipeline">Unity 自定义SRP示例-Retro3DPipeline</a></p></li><li><p><a href="keijiro/RDSystem">Unity CustomRenderTexture示例-RDSystem</a></p></li><li><p><a href="Verasl/BoatAttack">Unity LWRP示例-BoatAttack</a></p></li><li><p><a href="Unity-Technologies/FPSSample">Unity FPS示例-FPSSample</a></p></li><li><p><a href="Unity-Technologies/Gamekit3D">Unity 3D游戏开发包-Gamekit3D</a></p></li><li><p><a href="Unity-Technologies/UniteAustinTechnicalPresentation">Unity ECS官方Demo-UniteAustinTechnicalPresentation</a></p></li><li><p><a href="stella3d/job-system-cookbook">Unity Job System示例-job-system-cookbook</a></p></li><li><p><a href="beinteractive/LWRPAmbientOcclusion">Unity 学习如何将自定义后处理加入后处理栈中</a></p></li><li><p><a href="JiepengTan/Lockstep-Tutorial">Unity 帧同步实现教程-Lockstep-Tutorial</a></p></li></ul><h2 id="C"><a href="#C" class="headerlink" title="C#"></a>C#</h2><ul><li><p><a href="keijiro/UnsafeOperationTest">Unity 非安全的托管内存操作-UnsafeOperationTest</a></p></li><li><p><a href="https://github.com/MaxwellGengYF/CSharp-Unsafe-List-for-Unity">Unity 非GC的List容器-CSharp-Unsafe-List-for-Unity</a></p></li><li><p><a href="redbluegames/unity-notnullattribute">Unity 非空属性-unity-notnullattribute</a></p></li><li><p><a href="Misaka-Mikoto-Tech/MutableString">Unity 无GC的字符串类-MutableString</a></p></li><li><p><a href="jacksondunstan/UnityNativeScripting">Unity 使用c++和汇编与C#交互-UnityNativeScripting</a></p></li><li><p><a href="snozbot/FastString">Unity 高性能的字符串类-FastString</a></p></li><li><p><a href="Live-Charts/Live-Charts">C#实现非常漂亮的图表库-Live-Charts&#x2F;Live-Charts</a></p></li><li><p><a href="drewnoakes/string-theory">识别并减少C#字符串内存占用-string-theory</a></p></li><li><p><a href="SergeyTeplyakov/ObjectLayoutInspector">C#运行时对象内存布局-ObjectLayoutInspector</a></p></li><li><p><a href="mono/Embeddinator-4000">将.Net库转换到Native的工具-Embeddinator-4000</a></p></li><li><p><a href="vexe/gstring">C# 无GC字符串类-gstring</a></p></li><li><p><a href="https://blog.redbluegames.com/how-to-set-up-stylecop-in-unity-b3ca908211d9">C# 代码规则定义-StyleCop </a></p></li><li><p><a href="dennisdoomen/CSharpGuidelines">C# 编码指南-CSharpGuidelines</a></p></li><li><p><a href="Tencent/InjectFix">C# 代码热更补丁框架-InjectFix</a></p></li><li><p>[Unity 多线程协程-Thread Ninja](Thread Ninja - Multithread Coroutine | Tools | Unity Asset Store)</p></li><li><p>[Unity 一个比Unity默认更高效的协程-More Effective Coroutines](More Effective Coroutines [FREE] | Animation Tools | Unity Asset Store)</p></li><li><p><a href="pardeike/Harmony">运行时C#补丁修复-Harmony</a></p></li><li><p><a href="mob-sakai/OpenSesameCompilerForUnity">Unity 非反射访问程序集私有方法-OpenSesameCompilerForUnity</a></p></li><li><p><a href="JosefPihrt/Roslynator">C# 使用Roslyn代码分析、重构和修复库</a></p></li><li><p><a href="Cysharp/ZString">C# Zero Allocation StringBuilder for .NET Core and Unity</a></p></li><li><p><a href="Cysharp/UniTask">Unity UniTask Provides an efficient async&#x2F;await integration to Unity</a></p></li><li><p><a href="muckSponge/UnityAsync">Unity UnityAsync 一个更高效的协程库</a></p></li><li><p><a href="coryleach/UnityAsync">Unity 另一个协程库-UnityAsync</a></p></li><li><p><a href="BastianBlokland/componenttask-unity">Unity 兼容Unity组件生命周期的C#Async componenttask-unity </a></p></li><li><p><a href="Habrador/Unity-Programming-Patterns">Unity 设计模式-Unity-Programming-Patterns</a></p></li><li><p>[Unity Dictionary序列化-generic-serializable-dictionary</p></li></ul><p>](upscalebaby&#x2F;generic-serializable-dictionary)</p><ul><li><p><a href="commandlineparser/commandline">C# 强大命令行解析库-commandline</a></p></li><li><p><a href="justinamiller/DotNet-Coding-Guidelines">C# 代码规范&amp;实践-DotNet-Coding-Guidelines</a></p></li></ul><h2 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h2><ul><li><p><a href="tucano/UnityRandom">Unity 伪随机数-UnityRandom</a></p></li><li><p><a href="Alexander-Scott/Enhanced-Trigger-Box">Unity 增强的触发器-Enhanced-Trigger-Box</a></p></li><li><p><a href="brunomikoski/Simple-optimized-A-Pathfinder">Unity A*寻路极致优化-Simple-optimized-A-Pathfinder</a></p></li><li><p><a href="Unity-Technologies/AutoLOD">Unity 自动LOD优化-AutoLOD</a></p></li><li><p><a href="https://github.com/cathy33/UnityLoom">Unity 多线程访问API-UnityLoom</a></p></li><li><p><a href="Nition/UnityOctree">Unity 八叉树实现-UnityOctree</a></p></li><li><p><a href="QianMo/Unity-Design-Pattern">Unity 设计模式-Unity-Design-Pattern</a></p></li><li><p><a href="aalhour/C-Sharp-Algorithms">Unity C#数据结构和算法-C-Sharp-Algorithms</a></p></li><li><p><a href="baba-s/unity-curve-utils">Unity 18种曲线算法-unity-curve-utils</a></p></li><li><p><a href="mandliya/algorithms_and_data_structures">C++ 数据结构和算法-algorithms_and_data_structures</a></p></li><li><p><a href="dbrizov/Unity-PathFindingAlgorithms">Unity PathFindingAlgorithms</a></p></li><li><p><a href="zalo/MathUtilities">Unity 数学和物理算法-MathUtilities</a></p></li><li><p><a href="sturdyspoon/unity-movement-ai">Unity 通用移动Ai库-unity-movement-ai</a></p></li><li><p>[Unity A* Pathfinding Project](A* Pathfinding Project)</p></li><li><p><a href="UnityPatterns/ObjectPool">Unity 对象池-ObjectPool</a></p></li><li><p><a href="zulfajuniadi/unity-ecs-navmesh">Unity 使用ECS的Navmesh寻路-unity-ecs-navmesh</a></p></li><li><p><a href="meniku/NPBehave">Unity 事件驱动的行为树-NPBehave</a></p></li><li><p><a href="Kink3d/kPooling">Unity 可定制化的对象池-kPooling</a></p></li><li><p><a href="FreyaHolmer/Mathfs">Unity 扩展数学库-Mathfs</a></p></li></ul><h2 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h2><ul><li><p><a href="mr-kelly/KEngine">Unity AssetBundle框架-KEngine</a></p></li><li><p><a href="billwillman/UnityResourceMgr">Unity 资源管理框架-UnityResourceMgr</a></p></li><li><p><a href="xtqqksszml/zcode-AssetBundlePacker">Unity AssetBundle管理-zcode-AssetBundlePacker</a></p></li><li><p><a href="Perfare/AssetStudio">Unity AssetBundle浏览导出工具-AssetStudio</a></p></li><li><p><a href="xasset/xasset">Unity AssetBundle管理和打包-xasset</a></p></li><li><p><a href="Unity-Technologies/AssetBundles-Browser">Unity 官方AssetBundle工具-AssetBundles-Browser</a></p></li><li><p><a href="thefuntastic/Unity3d-Finite-State-Machine">Unity 一个简单的有限状态机-Unity3d-Finite-State-Machine</a></p></li><li><p><a href="robertohuertasm/SQLite4Unity3d">Unity 使用SQLite的插件-SQLite4Unity3d</a></p></li><li><p><a href="gwiazdorrr/BetterStreamingAssets">Unity 最好的跨平台StreamingAssets资源加载方式-BetterStreamingAssets</a></p></li><li><p>[Unity 资源非字符串引用-Weaver Lite](Weaver Lite | Utilities Tools | Unity Asset Store)</p></li><li><p>[Unity 免费多语言框架-Lean Localization](Lean Localization | Localization | Unity Asset Store)</p></li><li><p>[Unity 音效管理框架-Eazy Sound Manager](Eazy Sound Manager | Audio | Unity Asset Store)</p></li><li><p>[Unity 免费场景资源-Blacksmith](Blacksmith | 3D Fantasy | Unity Asset Store)</p></li><li><p>[Unity 非常漂亮的场景资源-Nature Starter Kit 2](Nature Starter Kit 2 | 3D Environments | Unity Asset Store)</p></li><li><p><a href="akof1314/AssetBundleReporter">Unity 分析Assetbundle资源工具-AssetBundleReporter</a></p></li><li><p><a href="conaman/SyncStreamingAssetsLoader">Unity StreamingAssets资源同步加载-SyncStreamingAssetsLoader</a></p></li><li><p><a href="AlexMeesters/Component-Save-System">Unity 组件保存系统-Component-Save-System</a></p></li></ul><h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><ul><li><p><a href="GaoKaiHaHa/UnityLockStepDemo">Unity 基于Unity做的帧同步Demo,ECS架构-UnityLockStepDemo</a></p></li><li><p><a href="smilehao/protobuf-net-gc-optimization">Unity Protobuf无GC优化-protobuf-net-gc-optimization</a></p></li><li><p><a href="yasirkula/SimplePatchTool">Unity 资源Patch工具-SimplePatchTool</a></p></li><li><p><a href="sNaticY/assetUpdater-core">Unity 资源更新下载-assetUpdater-core</a></p></li><li><p><a href="Unity-Technologies/BackgroundDownload">Unity 官方资源后台下载-BackgroundDownload</a></p></li><li><p><a href="https://github.com/BeardedManStudios/ForgeNetworkingRemastered">Unity 开源网络系统-Forge Networking</a></p></li><li><p><a href="CraneInForest/LockStepSimpleFramework-Shared">Unity 帧同步游戏极简框架-LockStepSimpleFramework-Shared</a></p></li><li><p><a href="proepkes/UnityLockstep">Unity 网络同步预测和回滚-UnityLockstep</a></p></li><li><p><a href="KumoKyaku/Megumin.Net">Unity 应用程序和游戏网络层解决方案-Megumin.Net</a></p></li><li><p><a href="https://mirror-networking.com/docs/General/index.html">Unity 开源的客户端服务器同体的网络框架-Mirror’s multiplayer High Level API</a></p></li><li><p><a href="Cysharp/MagicOnion">Unity MagicOnion is an Realtime Network Engine</a></p></li></ul><h2 id="UI"><a href="#UI" class="headerlink" title="UI"></a>UI</h2><ul><li><p><a href="mob-sakai/ParticleEffectForUGUI">Unity UGUI粒子特效插件-ParticleEffectForUGUI</a></p></li><li><p><a href="spr1ngd/UnityCodes">Unity UGUI组件扩展-UnityCodes</a></p></li><li><p><a href="WestHillApps/uGUI-Effect-Tool">Unity UGUI顶点颜色工具-uGUI-Effect-Tool</a></p></li><li><p><a href="mob-sakai/UIEffect">Unity 各种有用的UGUI特效-UIEffect</a></p></li><li><p><a href="AdultLink/RadialProgressBar">Unity 各种圆形环形进度条-RadialProgressBar</a></p></li><li><p><a href="Xerios/ScreenManager">Unity 强大的UI界面变换-ScreenManager</a></p></li><li><p><a href="Real-Serious-Games/Unity-Weld">Unity MVVM应用-Unity-Weld</a></p></li><li><p><a href="PavelDoGreat/Super-Blur">Unity UI毛玻璃效果-Super-Blur</a></p></li><li><p><a href="liuhaopen/UGUI-Editor">Unity UGUI快速编辑插件-UGUI-Editor</a></p></li><li><p><a href="zouhunter/unity-bridge-ui-framework">Unity 综合UGUI框架-unity-bridge-ui-framework</a></p></li><li><p><a href="zouchunyi/EmojiText">Unity UI支持Emoji表情-EmojiText</a></p></li><li><p><a href="MrNerverDie/Unity-UI-Framework">Unity 简单的UGUI框架-Unity-UI-Framework</a></p></li><li><p><a href="https://github.com/coding2233/TextInlineSprite">Unity UGUI图文混排-TextInlineSprite</a></p></li><li><p><a href="https://github.com/qiankanglai/LoopScrollRect">Unity ScrollView循环滚动优化-LoopScrollRect</a></p></li><li><p><a href="https://github.com/tomazsaraiva/addcomponent-unity-recyclable-listview">Unity 列表视图循环利用-addcomponent-unity-recyclable-listview</a></p></li><li><p><a href="https://github.com/lilianerhan/UnityTableView">Unity 列表视图循环利用-UnityTableView</a></p></li><li><p><a href="https://github.com/baba-s/ugui-animated-progressbar">Unity UGUI动画进度条-ugui-animated-progressbar</a></p></li><li><p><a href="baba-s/ugui-super-scrollview-example">Unity 超强UGUI Scrollview扩展-ugui-super-scrollview-example</a></p></li><li><p><a href="synchrok/TypeText">Unity UI文本打字组件-TypeText</a></p></li><li><p><a href="https://github.com/tinyantstudio/EnhancedScrollView">Unity 卡牌3D滚动效果-EnhancedScrollView</a></p></li><li><p><a href="https://github.com/fairygui/FairyGUI-unity">Unity 强大的UI框架-FairyGUI-unity</a></p></li><li><p><a href="https://github.com/dusanst/DynamicSpriteSheets?1548422192338">Unity 运行时SpriteSheet动态创建-DynamicSpriteSheets</a></p></li><li><p><a href="https://github.com/cocowolf/loxodon-framework">Unity MVVM框架-loxodon-framework</a></p></li><li><p><a href="https://github.com/badawe/Text-Juicer">Unity 简单的文本动画-Text-Juicer</a></p></li><li><p><a href="https://github.com/NVentimiglia/Unity3d-Foundation">Unity MVVM框架-Unity3d-Foundation</a></p></li><li><p><a href="https://github.com/mob-sakai/StaticBluredScreen">Unity 窗口背景模糊方案-StaticBluredScreen</a></p></li><li><p><a href="mob-sakai/MirrorReflectionEffectForUGUI">Unity UGUI界面纹理镜像显示-MirrorReflectionEffectForUGUI</a></p></li><li><p><a href="https://github.com/kimsama/Unity-NGUIExtension">Unity NGUI扩展-NGUIExtension</a></p></li><li><p>[Unity 一个免费的Tween-LeanTween](LeanTween | Animation Tools | Unity Asset Store)</p></li></ul><h2 id="性能"><a href="#性能" class="headerlink" title="性能"></a>性能</h2><ul><li><p><a href="https://github.com/Tayx94/graphy">Unity 超强性能监视器-graphy</a></p></li><li><p><a href="baldurk/renderdoc">Unity CE性能调试工具-renderdoc</a></p></li><li><p><a href="Unity-Technologies/BatchBreakingCause">Unity 官方合批被打断的各种情况-BatchBreakingCause</a></p></li><li><p><a href="Bitbucket">Unity 堆内存性能分析-UnityHeapExplorer</a></p></li></ul><h2 id="图形"><a href="#图形" class="headerlink" title="图形"></a>图形</h2><ul><li><p><a href="a3geek/Bloom">Unity 深度投影到世界和相机坐标系-DepthInverseProjection</a></p></li><li><p><a href="keijiro/SkinnedVertexModifier">Unity 蒙皮顶点需改器-SkinnedVertexModifier</a></p></li><li><p><a href="https://github.com/MaxwellGengYF?tab=repositories">Unity GPU驱动管线-Unity-GPU-Driven-Pipeline</a></p></li><li><p><a href="https://github.com/MaxwellGengYF/Unity-Custom-Rendering-Pipline">Unity 自定义渲染管线(Not SRP)-Unity-Custom-Rendering-Pipline</a></p></li><li><p><a href="https://github.com/knapeczadam/Unity-Shaders">Unity 超过300个Shader示例-Unity-Shaders</a></p></li><li><p><a href="lindenreid/LindenPipeline">Unity 自定义渲染管线-LindenPipeline</a></p></li><li><p><a href="unitycoder/GetNearestObjectsWithCullingGroup">Unity 使用CullingGroup获取视锥体最近物体</a></p></li><li><p><a href="https://kkhomyakov3d.github.io/raytracers-and-pathtracers/">开源光线或路径追踪资源-Open-Source Ray Tracers and Path Tracers</a></p></li></ul><h2 id="Shader"><a href="#Shader" class="headerlink" title="Shader"></a>Shader</h2><ul><li><p><a href="phi-lira/CustomSRP">Unity 自定义SRP模板-CustomSRP</a></p></li><li><p><a href="phi-lira/UniversalShaderExamples">Unity URP Shader实例-UniversalShaderExamples</a></p></li><li><p><a href="keijiro/ShaderGraphExamples">Unity ShaderGraph示例-ShaderGraphExamples</a></p></li><li><p><a href="https://github.com/keijiro/NoiseShader">Unity 噪声着色器-NoiseShader</a></p></li><li><p><a href="QianMo/Awesome-Unity-Shader">Unity 浅墨Shader库-Awesome-Unity-Shader</a></p></li><li><p><a href="QianMo/NPR-Cartoon-Shader-Library">Unity 浅墨卡通渲染-NPR-Cartoon-Shader-Library</a></p></li><li><p><a href="chenjd/Unity-Miscellaneous-Shaders">Unity 陈嘉栋Shader库-Unity-Miscellaneous-Shaders</a></p></li><li><p><a href="https://github.com/chenjd/UnitySpecialEffectWithDepth">Unity 陈嘉栋使用深度的特殊效果-UnitySpecialEffectWithDepth</a></p></li><li><p><a href="przemyslawzaworski/Unity3D-CG-programming">Unity 各种Shader库-Unity3D-CG-programming</a></p></li><li><p><a href="andydbc/unity-shadergraph-sandbox">Unity ShaderGraph示例-unity-shadergraph-sandbox</a></p></li><li><p><a href="https://github.com/ellioman/ShaderProject">Unity 各种Shader示例-ShaderProject</a></p></li><li><p><a href="Kink3d/kShading">Unity 基于PBR的卡通渲染-ToonShading</a></p></li><li><p><a href="KaimaChen/Unity-Shader-Demo">Unity 各种Shader效果收集-Unity-Shader-Demo</a></p></li><li><p><a href="UnityTechnologies/ShaderGraph_ExampleLibrary">Unity 官方Shader Graph示例-ShaderGraph_ExampleLibrary</a></p></li><li><p><a href="beinteractive/LWRPShaders">Unity LWRP Shader库-LWRPShaders</a></p></li><li><p><a href="https://github.com/smkplus/ShaderMan">Unity ShaderToy转UnityShader-ShaderMan</a></p></li><li><p><a href="azixMcAze/Unity-OptimalUnlitShader">Unity 无光照shader优化-Unity-OptimalUnlitShader</a></p></li><li><p><a href="WorldOfZero/UnityVisualizations">Uiity Shader效果库-UnityVisualizations</a></p></li><li><p><a href="candycat1992/Unity_Shaders_Book">Unity 书籍《Unity Shader入门精要》源代码-Unity_Shaders_Book</a></p></li><li><p><a href="IronWarrior/UnityToonShader">Unity 卡通渲染教程-UnityToonShader</a></p></li><li><p><a href="knapeczadam/Unity-Shaders">Unity 超过300个Shader Demo-UnityShaders</a></p></li><li><p><a href="synqark/Arktoon-Shaders">Unity 卡通渲染-Arktoon-Shaders</a></p></li><li><p><a href="kitasenjudesign/UnityGpuInstancing">GPU Instancing + Boids + Animation Texture Baker</a></p></li><li><p><a href="What-a-stupid-username/RP">Unity 自定义渲染管线学习</a></p></li><li><p><a href="https://www.youtube.com/watch?v=FbTAbOnhRcI">OCEAN shader with Unity Shader Graph!</a></p></li><li><p><a href="https://www.youtube.com/watch?v=R6EX6dN1BOs">Unity Shadergraph: Rain Drop Ripples!</a></p></li><li><p><a href="https://github.com/DMeville/AmplifyShaderCommunityExtras">Amplify Shader Editor 扩展</a></p></li><li><p><a href="chenjd/Unity-Signed-Distance-Field-Shadow">Unity 有向距离域阴影实现-Unity-Signed-Distance-Field-Shadow</a></p></li><li><p><a href="ozlael/PlannarShadowForUnity">Unity 平面阴影实现-PlannarShadowForUnity</a></p></li><li><p><a href="RenLvDa/ShadowCode">Unity 移动端平面阴影实现方案-ShadowCode</a></p></li><li><p>[Unity 次表面散射SSS实现优化](Fast Subsurface Scattering in Unity (Part 1) - Alan Zucconi)</p></li><li><p>[Unity 一种简单的次表面散射实现](My take on shaders: Simple Subsurface Scattering)</p></li><li><p><a href="JiepengTan/FishManShaderTutorial">Unity Shader中级教程-FishManShaderTutorial</a></p></li><li><p>[Unity 基于物理的着色器框架-Lux – Physically Based Shader Framework](Lux – Physically Based Shader Framework | VFX Shaders | Unity Asset Store)</p></li><li><p><a href="nomand/UVProjectionShader">Unity 世界变化映射到纹理UV-UVProjectionShader</a></p></li><li><p><a href="RMSHR/AmplifyShaderFunctions">Unity ASE扩展函数库-AmplifyShaderFunctions</a></p></li><li><p><a href="Anatta336/driven-decals">Unity 基于PBR的贴花系统-driven-decals</a></p></li><li><p><a href="https://teofilobd.github.io/unity/shaders/urp/graphics/2020/05/18/From-Built-in-to-URP.html">Unity 内置管线升级到URP说明-From-Built-in-to-URP</a></p></li><li><p><a href="adrian-miasik/unity-shaders">Unity Shader库-unity-shaders</a></p></li><li><p><a href="Arvtesh/UnityFx.Outline">Unity Screen Space描边- UnityFx.Outline</a></p></li><li><p><a href="yahiaetman/URPCustomPostProcessingStack">Unity URP自定义后处理-URPCustomPostProcessingStack</a></p></li><li><p><a href="SiiMeR/unity-volumetric-fog">Unity 体积雾-unity-volumetric-fog</a></p></li></ul><h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><ul><li><p><a href="chenjd/Render-Crowd-Of-Animated-Characters">Unity 大规模群体动画渲染-Render-Crowd-Of-Animated-Characters</a></p></li><li><p><a href="AdultLink/TexturePanner">Unity 各种炫酷UI纹理动画-TexturePanner</a></p></li><li><p><a href="beinteractive/Uween">Unity 100行轻量级的Teen库-Uween</a></p></li><li><p>[Unity 基于Animation状态机的框架-Animancer Lite](Animancer Lite | Animation Tools | Unity Asset Store)</p></li><li><p><a href="kayac/kamakura-shaders">Unity 风格化的效果实现细节-Kamakura Shaders**</a></p></li><li><p>[Unity 卡通渲染效果实现-Toon Shader Free](Toon Shader Free | VFX Shaders | Unity Asset Store)</p></li><li><p><a href="nomand/RevealShader">Unity RT涂鸦Shader-RevealShader</a></p></li><li><p><a href="danbystrom/ScamScatter">Unity 程序化模型破坏功能-ScamScatter</a></p></li></ul><h2 id="特效"><a href="#特效" class="headerlink" title="特效"></a>特效</h2><ul><li><p><a href="https://github.com/keijiro/PostProcessingUtilities">Unity Post Processing Stack实用脚本-PostProcessingUtilities</a></p></li><li><p><a href="https://github.com/keijiro/Kino">Unity Post Processing Stack自定义效果集合-Kino</a></p></li><li><p><a href="keijiro/Flipbook">Unity 翻书效果实现-Flipbook</a></p></li><li><p><a href="keijiro/TimelineParticleControl">Unity Timeline控制粒子系统-TimelineParticleControl</a></p></li><li><p><a href="keijiro/CloudSkybox">Unity 体积云-CloudSkybox</a></p></li><li><p><a href="AsehesL/ToonWater">Unity 卡通水效果-ToonWater</a></p></li><li><p><a href="bmjoy/CSky-Dynamic-Sky-Unity">Unity 高质量动态天空-CSky-Dynamic-Sky-Unity</a></p></li><li><p><a href="yangrc1234/VolumeCloud">Unity 效果不错的体积云-VolumeCloud</a></p></li><li><p><a href="danielzeller/Lowpoly-Water-Unity">Unity 低多边形海水-Lowpoly-Water-Unity</a></p></li><li><p><a href="kwnetzwelt/unity3d-dissolve-shader">Unity 基于高度和距离的溶解效果-unity3d-dissolve-shader</a></p></li><li><p><a href="keijiro/KinoContour">Unity 基于颜色深度和法线描边-KinoContour</a></p></li><li><p><a href="https://github.com/eliasts/Ocean_Community_Next_Gen">Unity 次时代的海洋-Ocean_Community_Next_Gen</a></p></li><li><p><a href="wave-harmonic/crest">Unity 高级的海洋系统-crest-oceanrender</a></p></li><li><p><a href="laurenth-personal/lightmap-switching-tool">Unity 运行时设置不同的光照图-lightmap-switching-tool</a></p></li><li><p><a href="https://github.com/EsProgram/InkPainter">Unity 纹理涂鸦-InkPainter</a></p></li><li><p><a href="https://github.com/cakeslice/Outline-Effect">Unity 图形描边-Outline-Effect</a></p></li><li><p><a href="https://github.com/dbrizov/Unity-WaterBuoyancy">Unity 海水浮力模拟-Unity-WaterBuoyancy</a></p></li><li><p><a href="https://github.com/jakubshark/SurfaceWaterShader">Unity 低多边形水Shader-SurfaceWaterShader</a></p></li><li><p><a href="AdultLink/VerticalDissolve">Unity 垂直溶解特效-VerticalDissolve</a></p></li><li><p>[Unity 风格化天空盒效果](Making a Stylized Skybox Shader | Minions Art on Patreon)</p></li><li><p><a href="Broxxar/PostProcessDistortionFX">Unity 扭曲后处理效果-PostProcessDistortionFX</a></p></li><li><p><a href="Fewes/BNAO">Unity 基于GPU的Bent Normal and Ambient Occlusion烘焙</a></p></li><li><p><a href="kode80/kode80CloudsUnity3D">Unity 体积云天空盒-kode80CloudsUnity3D</a></p></li><li><p><a href="OCASM/SSMS">Unity 屏幕空间的多次散射-取代全局雾SSMS</a></p></li><li><p>[Unity 体积光和体积雾-Aura - Volumetric Lighting](Aura - Volumetric Lighting | Particles&#x2F;Effects | Unity Asset Store)</p></li><li><p>[Unity 颜色渐变LUTs库-Cinema Themes 2 - Color Grading LUTs Library](Cinema Themes 2 - Color Grading LUTs Library | Fullscreen &amp; Camera Effects | Unity Asset Store)</p></li><li><p>[Unity 简单的LUT调节器-Simple LUT Adjuster](Simple LUT Adjuster | Fullscreen &amp; Camera Effects | Unity Asset Store)</p></li><li><p>[Unity 每个模型单通道渲染21844个光源-SpriteLights](SpriteLights | VFX Shaders | Unity Asset Store)</p></li><li><p><a href="https://github.com/SlightlyMad/VolumetricLights">Unity 开源体积光效果-VolumetricLights</a></p></li><li><p>[Unity 闪电效果-Lightning Bolt Effect for Unity](Lightning Bolt Effect for Unity | Particles&#x2F;Effects | Unity Asset Store)</p></li><li><p><a href="Chman/SMAA">Unity SMAA实现-Subpixel Morphological Antialiasing</a></p></li><li><p><a href="playdeadgames/temporal">Unity TAA-Temporal Reprojection Anti-Aliasing </a></p></li><li><p><a href="Kink3d/kDecals">Unity A forward projector Decal system</a></p></li><li><p><a href="https://github.com/Elringus/GrassBending">Unity Alpha混合可交互的草-GrassBending</a></p></li><li><p><a href="chrismarch/SoftBodySimulation">Unity 软体模拟-SoftBodySimulation</a></p></li><li><p><a href="https://github.com/muckSponge/Optically-Realistic-Water">Unity 漂亮的海洋效果Optically-Realistic-Water</a></p></li><li><p><a href="https://github.com/SebLague/Clouds">Unity 体积云效果-Clouds</a></p></li><li><p>[Unity 自定义扫描线后处理（基于PostProcessStack）](Scanline Effect | Team Dogpit on Patreon)</p></li><li><p><a href="https://github.com/ColinLeung-NiloCat/UnityURPUnlitScreenSpaceDecalShader">Unity URP屏幕空间的贴花-UnityURPUnlitScreenSpaceDecalShader</a></p></li><li><p><a href="https://github.com/CJT-Jackton/URP-Iridescence-Example">Unity URP彩虹效果-URP-Iridescence-Example</a></p></li></ul><h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><ul><li><p><a href="https://github.com/Perfare/AssetStudio">Unity AssetBundle资源浏览插件-AssetStudio</a></p></li><li><p><a href="https://github.com/Perfare/Il2CppDumper">Unity 从IL2CPP生成的二进制文件获取.Net元数据</a></p></li><li><p><a href="https://github.com/Whinarn/UnityMeshSimplifier">Unity 编辑器和运行时模型简化插件-UnityMeshSimplifier</a></p></li><li><p><a href="https://github.com/akof1314/UnityParticleSystemPreview">Unity 粒子特效预览工具-UnityParticleSystemPreview</a></p></li><li><p><a href="https://github.com/akof1314/AssetBundleReporter">Unity AssetBundle分析器-AssetBundleReporter</a></p></li><li><p><a href="akof1314/UnityTMProFontCustomizedCreater">Unity TextMeshPro文本组件之字体图集生成工-UnityTMProFontCustomizedCreater</a></p></li><li><p><a href="https://github.com/akof1314/UnityAssetDanshari">Unity 冗余资源清理工具-UnityAssetDanshari</a></p></li><li><p><a href="wudixiaop/ShaderlabVS">Unity VisualStudio Shader语法插件-ShaderlabVS</a></p></li><li><p><a href="https://github.com/keijiro/FrameDump">Unity 序列帧导出工具-FrameDump</a></p></li><li><p><a href="Elringus/SpriteDicing">Unity Sprite重用扩展-SpriteDicing</a></p></li><li><p><a href="andydbc/unity-texture-packer">Unity 组合多张单通道纹理到一张-unity-texture-packer</a></p></li><li><p><a href="Misaka-Mikoto-Tech/MonoHook">Unity 编辑器运行时Hook-MonoHooker</a></p></li><li><p><a href="Unity-Technologies/ConditionalCompilationUtility">Unity 条件编译示例-ConditionalCompilationUtility</a></p></li><li><p><a href="DaVikingCode/UnityRuntimeSpriteSheetsGenerator">Unity 运行时SpriteSheet生成-UnityRuntimeSpriteSheetsGenerator</a></p></li><li><p><a href="mafaca/UtinyRipper">Unity AssetBundle解析工具-UtinyRipper</a></p></li><li><p><a href="mr-kelly/unity_realtime_log">Unity 实时日志-unity_realtime_log</a></p></li><li><p><a href="https://github.com/Unity-Technologies/ToolsCollection">Unity 官方工具收集-ToolsCollection</a></p></li><li><p><a href="github-for-unity/Unity">Unity Github工具-GithubForUnity</a></p></li><li><p><a href="Robert-K/unity-scene-view-copier">Unity 场景和游戏相机同步-unity-scene-view-copier</a></p></li><li><p><a href="Tyrrrz/CliWrap">Unity 命令行封装-CliWrap</a></p></li><li><p><a href="https://github.com/tsubaki/Unity-Excel-Importer-Maker">Unity Excel导入Unity-Excel-Importer-Maker</a></p></li><li><p><a href="https://github.com/JoshClose/CsvHelper">读写Excle文件库-CsvHelper</a></p></li><li><p><a href="https://github.com/SebLague/Path-Creator">Unity 路径创建工具-Path-Creator</a></p></li><li><p><a href="ecidevilin/PSLinearColorSpace">Unity 改变Photoshop的颜色空间到线性空间-PSLinearColorSpace</a></p></li><li><p><a href="davyxu/tabtoy">跨平台Excel导出工具-tabtoy</a></p></li><li><p><a href="FreyaHolmer/Render-Queue">Unity Render Queue扩展</a></p></li><li><p><a href="yasirkula/UnityRuntimeInspector">Unity RuntimeInspector</a></p></li><li><p><a href="marijnz/unity-toolbar-extender">Unity 工具栏扩展-unity-toolbar-extender</a></p></li><li><p><a href="marijnz/unity-editor-spotlight">Unity 资源快速查找-unity-editor-spotlight</a></p></li><li><p><a href="sunbrando/ParticleEffectProfiler">Unity 粒子特效性能分析工具-ParticleEffectProfiler</a></p></li><li><p><a href="dariomanesku/cmftStudio">Unity 跨平台的CubeMap生成工具-cmftStudio</a></p></li><li><p>[Unity 加解PlayerPrefs](Secured PlayerPrefs | Input Management | Unity Asset Store)</p></li><li><p><a href="jongallant/UnityColorPicker">Unity 游戏里面实现的颜色拾取器-UnityColorPicker</a></p></li><li><p>[Unity Inspector增强-Inspector Gadgets Lite](Inspector Gadgets Lite | GUI Tools | Unity Asset Store)</p></li><li><p><a href="Tiled">Tile地图编辑器</a></p></li><li><p>[Unity 实时模型绘制-RealTime Painting](RealTime Painting | Tutorials | Unity Asset Store)</p></li><li><p>[Unity 公路创建-EasyRoads3D Free v3](EasyRoads3D Free v3 | 3D Characters | Unity Asset Store)</p></li><li><p><a href="GIMP">开源跨平台媲美PS的图形编辑器-GIMP</a></p></li><li><p><a href="code-beans/GizmoExtensions">Unity Gizmos扩展-GizmoExtensions</a></p></li><li><p><a href="mob-sakai/SymbolCatalog">Unity 脚本符号定义工具-SymbolCatalog</a></p></li><li><p><a href="nomand/PBRBlendShader">Unity 使用Polybrush进行关卡材质混合-PBRBlendShader</a></p></li><li><p><a href="nomand/BlenderToUnity">Unity Blender到Unity导入插件-BlenderToUnity</a></p></li><li><p><a href="Unity-Harry/Unity-AssetDependencyGraph">Unity 资源依赖图-AssetDependencyGraph</a></p></li><li><p><a href="arimger/Unity-Editor-Toolbox">Unity 非常强大的Inspector扩展-Unity-Editor-Toolbox</a></p></li><li><p><a href="nashnie/PotentiallyVisibleSetPlugin">Unity 离线PotentiallyVisibleSet-PotentiallyVisibleSetPlugin</a></p></li><li><p><a href="xdedzl/RuntimeTerrainEditor">Unity 运行时地形编辑-RuntimeTerrainEditor</a></p></li><li><p><a href="PixelWizards/com.pixelwizards.utilities">Unity 编辑器实用工具-com.pixelwizards.utilities</a></p></li><li><p><a href="mtrive/ProjectAuditor">Unity 工程静态性能分析工具-ProjectAuditor</a></p></li><li><p><a href="M-Fatah/texture_maker">Unity Texture_maker A texture maker tool for unity</a></p></li><li><p>[Unity git文件属性-.gitattributes](.gitattributes for Unity3D with git-lfs)</p></li><li><p><a href="https://github.com/EdyJ/blender-to-unity-fbx-exporter">Unity Blender FBX导出插件-blender-to-unity-fbx-exporter</a></p></li><li><p><a href="yasirkula/UnityRuntimeSceneGizmo">Unity 运行时场景Gizmo-UnityRuntimeSceneGizmo</a></p></li><li><p><a href="nementic-games/mesh-debugging">Unity Mesh的UV法线信息显示工具-mesh-debugging</a></p></li><li><p><a href="windsmoon/RenderDocMeshParserForUnity">RenderDoc Mesh数据导出插件-RenderDocMeshParserForUnity</a></p></li></ul><h2 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h2><ul><li><p><a href="https://github.com/GaoKaiHaHa/APKRepackageSDKTool">Unity APK重打包SDK工具-APKRepackageSDKTool</a></p></li><li><p><a href="https://github.com/mob-sakai/ProjectBuilder">Unity 打包工具-ProjectBuilder</a></p></li><li><p><a href="FatihBAKIR/UnityPacker">Unity 命令行打包Package-UnityPacker</a></p></li><li><p><a href="https://github.com/jenkinsci/unity3d-plugin">Unity Jenkins打包插件-unity3d-plugin</a></p></li><li><p><a href="Chaser324/unity-build">Unity 游戏构建插件-unity-build</a></p></li><li><p><a href="Chaser324/unity-build-actions">Unity unity-build插件扩展 unity-build-actions</a></p></li><li><p><a href="EpixCode/CommandLineCustomArguments">Unity 命令行参数解析类-CommandLineCustomArguments</a></p></li><li><p><a href="SixWays/UnityShaderStripper">Unity Shader变体剥离插件</a></p></li><li><p><a href="https://github.com/LetsBuildGG/UnityInputReplay">Unity 输入系统回放-UnityInputReplay</a></p></li><li><p><a href="https://www.ryanmiller.ca/goodies/ScreenshotTool.cs">Unity 游戏内截屏工具-ScreenshotTool</a></p></li><li><p><a href="KevinHagen/UnityEventDebugger">Unity 事件调试器-UnityEventDebugger</a></p></li></ul><h2 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h2><ul><li><p><a href="google/flatbuffers">高效内存序列化库-flatbuffers</a></p></li><li><p><a href="sNaticY/excelizor">Unity Excel配置表导出工具-excelizor</a></p></li><li><p><a href="TeamSirenix/odin-serializer">Unity 功能强大的序列化库-Odin Serializer</a></p></li><li><p><a href="thsbrown/unity-symbolic-project-linker">Unity 工程符号链接-unity-symbolic-project-linker</a></p></li></ul><h2 id="编辑器"><a href="#编辑器" class="headerlink" title="编辑器"></a>编辑器</h2><ul><li><p><a href="insthync/UnityEditorUtils">Unity 编辑器使用工具-UnityEditorUtils</a></p></li><li><p><a href="MarkUnity/AssetAuditor">Unity 编辑器资源导入设置-AssetAuditor</a></p></li><li><p><a href="fxgames/pvrtextool_wrapper">Unity 编辑器贴图快速导入-pvrtextool_wrapper</a></p></li><li><p><a href="Deadcows/MyBox">Unity 编辑器属性扩展-MyBox</a></p></li><li><p><a href="https://github.com/redbluegames/unity-mulligan-renamer">Unity 编辑器多资源重命名-nity-mulligan-renamer</a></p></li><li><p><a href="gkngkc/UnityStandaloneFileBrowser">Unity 跨平台的文件浏览器-UnityStandaloneFileBrowser</a></p></li><li><p><a href="https://github.com/yasirkula/UnityRuntimeInspector">Unity 跨平台运行时查看Inspector-UnityRuntimeInspector</a></p></li><li><p><a href="yasirkula/UnityAssetUsageDetector">Unity 资源引用关系插件-UnityAssetUsageDetector</a></p></li><li><p><a href="marijnz/unity-editor-coroutines">Unity Editor下使用协程-unity-editor-coroutines</a></p></li><li><p><a href="SubjectNerd-Unity/ReorderableInspector">Unity Inspector可排序的List-ReorderableInspector</a></p></li><li><p><a href="azixMcAze/Unity-SerializableDictionary">Unity Inspector显示字典-Unity-SerializableDictionary</a></p></li><li><p><a href="KeyleXiao/UNITY3D-DATA-VIEWER">Unity 可视化数据编辑-UNITY3D-DATA-VIEWER</a></p></li><li><p><a href="madsbangh/EasyButtons">Unity Inspector快速添加按钮-EasyButtons</a></p></li><li><p><a href="Seneral/Node_Editor_Framework">Unity 编辑器节点框架-Node_Editor_Framework</a></p></li><li><p><a href="baba-s/UniUGUIToolbar">Unity UGUI编辑器工具栏-ugui-toorbar</a></p></li><li><p><a href="baba-s/unity-customizable-toolbar">Unity 编辑器工具栏扩展-unity-customizable-toolbar</a></p></li><li><p><a href="baba-s/uni-debug-panel">Unity 游戏调试UI面板-uni-debug-panel</a></p></li><li><p><a href="https://github.com/baba-s/unity-open-asset-customizer">Unity 设置工程文件扩展名使用指定应用打开-unity-open-asset-customizer</a></p></li><li><p><a href="dbrizov/NaughtyAttributes">Unity 超强Inspector扩展-NaughtyAttributes</a></p></li><li><p><a href="pirhosoft/UnityUtilities">Unity Inspector扩展-UnityUtilities</a></p></li><li><p><a href="ATHellboy/ScriptableObjectMultiSelectDropdown">Unity ScriptableObjects下来列表多选扩展</a></p></li><li><p><a href="chenjd/LightProbeEditor">Unity Light Probe环境光颜色和强度设置-LightProbeEditor</a></p></li><li><p><a href="alexismorin/Light-Probe-Populator">Unity Light Probe自动放置-Light-Probe-Populator</a></p></li><li><p><a href="https://bitbucket.org/pschraut/unitydbgdraw/src/master/">Unity 绘制各种调试形状-UnityDbgDraw</a></p></li><li><p><a href="pschraut/UnityTexture2DArrayImportPipeline">Unity Texture2DArray创建-UnityTexture2DArrayImportPipeline</a></p></li><li><p><a href="pschraut/UnityCubemapArrayImportPipeline">Unity CubemapArray创建-UnityCubemapArrayImportPipeline</a></p></li><li><p><a href="https://github.com/coryleach/UnitySceneSwitcher">Unity 快速场景切换-UnitySceneSwitcher</a></p></li><li><p><a href="https://github.com/MileyHollenberg/RigidbodyCenterOfMassEditor">Unity 修改刚体质点中心-RigidbodyCenterOfMassEditor</a></p></li><li><p><a href="https://gist.github.com/rutcreate/0af3c34abd497a2bceed506f953308d7">Unity 编辑器扩展拖放实现-DragAndDropEditorWindow</a></p></li></ul><h2 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h2><ul><li><p><a href="https://github.com/ElPsyCongree/LuaProfiler-For-Unity">Lua性能分析器-LuaProfiler-For-Unity</a></p></li><li><p><a href="Ourpalm/ILRuntime">Unity C#代码热更新-ILRuntime</a></p></li><li><p><a href="https://github.com/qq576067421/cshotfix">Unity C#代码热更新-cshotfix</a></p></li><li><p><a href="Tencent/xLua">Lua热更新框架-XLua</a></p></li><li><p>[Bash脚本教程-bash-scripting-tutorial](Bash Scripting Tutorial)</p></li><li><p><a href="https://github.com/RC1844/FastGithub">Github快速下载或克隆插件-FastGithub</a></p></details></li></ul><hr><h1 id="云应用托管类"><a href="#云应用托管类" class="headerlink" title="云应用托管类"></a>云应用托管类</h1><h2 id="fly-io"><a href="#fly-io" class="headerlink" title="fly.io"></a>fly.io</h2><p><a href="https://fly.io/">https://fly.io/</a></p><p>超过 300 万个应用程序已在 Fly.io 上启动，利用全球 Anycast 负载均衡、零配置</p><p>应用国内访问速度：一般</p><p><img src="https://pic.imgdb.cn/item/67025c0fd29ded1a8c1e4fd3.png"></p><h2 id="Railway"><a href="#Railway" class="headerlink" title="Railway"></a>Railway</h2><p><a href="https://railway.app/">https://railway.app/</a></p><p>重简化开发体验。支持多种编程语言，集成数据库和其他服务都特别简单。</p><p>界面清晰，即使是初学者也能轻松上手。特别是对那些需要快速原型设计的开发者，能在Railway上扩展和管理资源，真的挺方便。</p><p>应用国内访问速度：较快</p><p><img src="https://pic.imgdb.cn/item/67025d53d29ded1a8c1f5b36.png"></p><h2 id="Netlify"><a href="#Netlify" class="headerlink" title="Netlify"></a>Netlify</h2><p><a href="https://www.netlify.com/">https://www.netlify.com/</a></p><p>在边缘节点上运行JavaScript代码</p><p>应用国内访问速度：一般</p><p><img src="https://pic.imgdb.cn/item/67025deed29ded1a8c1fdbf5.png"></p><h2 id="Render"><a href="#Render" class="headerlink" title="Render"></a>Render</h2><p><a href="https://render.com/">https://render.com/</a></p><p>动态&#x2F;静态网站服务、Docker服务、cron服务、SQL数据库 等，一共有八种类型。在所有免费SaaS平台中，Render的功能可以说是最丰富的。</p><p>应用国内访问速度：一般</p><p><img src="https://pic.imgdb.cn/item/67025e4cd29ded1a8c202ae9.png"></p><h2 id="Vercel"><a href="#Vercel" class="headerlink" title="Vercel"></a>Vercel</h2><p><a href="https://vercel.com/">https://vercel.com/</a></p><p>每月高达100GB 的出口数据，静态资源在国内访问很快</p><p>需绑定自己的域名才能正常使用</p><p>应用国内访问速度：快</p><p><img src="https://pic.imgdb.cn/item/67025ef2d29ded1a8c20be29.png"></p><h2 id="Deno-Deploy"><a href="#Deno-Deploy" class="headerlink" title="Deno Deploy"></a>Deno Deploy</h2><p>Deno Deploy 是一个分布式系统，可在全球范围内的边缘运行 JavaScript、TypeScript 和 WebAssembly。</p><p><img src="https://pic.imgdb.cn/item/67026473d29ded1a8c2600a7.png"></p><h1 id="前端开发图标库"><a href="#前端开发图标库" class="headerlink" title="前端开发图标库"></a>前端开发图标库</h1><h2 id="remixicon"><a href="#remixicon" class="headerlink" title="remixicon"></a>remixicon</h2><p><a href="https://remixicon.com/">https://remixicon.com/</a></p><p>为设计人员和开发人员精心设计的开源中性风格系统符号。<br>所有图标都免费用于个人和商业用途。</p><p><img src="https://pic.imgdb.cn/item/67025fb0d29ded1a8c21a0eb.png"></p><h2 id="manypixel"><a href="#manypixel" class="headerlink" title="manypixel"></a>manypixel</h2><p><a href="https://www.manypixels.co/gallery">https://www.manypixels.co/gallery</a></p><p>高质量免费插画</p><p><img src="https://pic.imgdb.cn/item/67026042d29ded1a8c223d0d.png"></p><hr><h1 id="网络安全"><a href="#网络安全" class="headerlink" title="网络安全"></a>网络安全</h1><h2 id="fofa"><a href="#fofa" class="headerlink" title="fofa"></a>fofa</h2><p><a href="https://fofa.info/">https://fofa.info/</a></p><p>网络空间测绘，网络空间安全搜索引擎，网络空间搜索引擎，安全态势感知 - FOFA网络空间测绘系统</p><p><img src="https://pic.imgdb.cn/item/67026415d29ded1a8c25b3e5.png"></p><hr><h1 id="静态资源CDN"><a href="#静态资源CDN" class="headerlink" title="静态资源CDN"></a>静态资源CDN</h1><h2 id="staticfile"><a href="#staticfile" class="headerlink" title="staticfile"></a>staticfile</h2><p><a href="https://www.staticfile.net/">https://www.staticfile.net/</a></p><p>资源国内访问速度：很快</p><h2 id="UNPKG"><a href="#UNPKG" class="headerlink" title="UNPKG"></a>UNPKG</h2><p><a href="https://unpkg.com/">https://unpkg.com/</a></p><p>资源国内访问速度：很快</p><h2 id="jsDelivr"><a href="#jsDelivr" class="headerlink" title="jsDelivr"></a>jsDelivr</h2><p><a href="https://www.jsdelivr.com/">https://www.jsdelivr.com/</a></p><p>资源国内访问速度：较快</p><p>适用于开源项目的免费 CDN</p><p>jsDelivr部分子域名在国内访问会被污染</p><p>可使用 <a href="https://fastly.jsdelivr.net/">https://fastly.jsdelivr.net/</a> 替换，如</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://fastly.jsdelivr.net/npm/jquery@3/dist/jquery.min.js</span><br></pre></td></tr></table></figure><hr><h1 id="待更新…"><a href="#待更新…" class="headerlink" title="待更新….."></a>待更新…..</h1>]]></content>
      
      
      
        <tags>
            
            <tag> 分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nanite</title>
      <link href="/posts/41215093.html"/>
      <url>/posts/41215093.html</url>
      
        <content type="html"><![CDATA[<h1 id="什么是Nanite"><a href="#什么是Nanite" class="headerlink" title="什么是Nanite"></a>什么是Nanite</h1><p>Nanite技术是虚幻引擎5（Unreal Engine 5）中的一个关键技术，它用于处理极为复杂的3D模型几何体，使得这些模型能够在不牺牲细节的情况下实现实时渲染。Nanite虚拟化微多边形几何体技术允许开发者直接导入具有数以亿计的多边形的电影级3D模型，并且这些模型可以无损地在虚幻引擎中使用，不需要额外的手动优化或者降低模型的复杂度。</p><p>这项技术的意义在于，以前为了保证游戏或者实时应用的性能，通常需要将高精度模型简化成较低的多边形数目的模型（即低模），这往往会损失一些细节。但是有了Nanite，开发人员可以绕过传统的LOD（Level of Detail）层次细节技术，直接使用高细节的模型，并且仍然能够达到实时渲染的要求。</p><p>Nanite的工作原理大致是将3D模型的数据进行高效的压缩和流处理，只有在实际渲染每一帧时才会解压和加载必要的细节数据，这样既节省了内存又提高了渲染效率。这种技术极大地简化了工作流程，提高了画面的真实感，同时也降低了对硬件性能的需求。</p><h1 id="Nanite-应用"><a href="#Nanite-应用" class="headerlink" title="Nanite 应用"></a>Nanite 应用</h1><p><img src="https://pic.imgdb.cn/item/66d33635d9c307b7e98a79cb.png"></p><ol><li><p><strong>高保真度的3D扫描数据导入</strong>：游戏包含大量中国古迹场景，这些场景通过实景扫描获得高分辨率3D数据。Nanite技术允许直接导入这些高精度的数据，无需手动降低模型的多边形数量或创建不同细节层次（LoD）的模型。</p></li><li><p><strong>减少工作量</strong>：传统游戏开发中，为了确保游戏性能，通常需要为同一对象创建多个不同细节层次的模型。Nanite技术简化了这一过程，使得开发团队能够减少在创建和优化不同LoD上的工作量。</p></li><li><p><strong>实时渲染高多边形模型</strong>：Nanite技术能够实时渲染高清扫描的3D数据，这意味着无需预先生成多个细节层次的模型。这不仅提高了效率，还提升了游戏的视觉质量。</p></li><li><p><strong>平滑的细节过渡</strong>：当玩家调整视角时，Nanite技术能自动平滑地切换不同细节层次的模型，避免了过去游戏中常见的从模糊到清晰的切换现象，从而提供了更加沉浸式的游戏体验。</p></li><li><p><strong>优化资源使用</strong>：Nanite技术通过智能地只加载和渲染摄像机视角所需的部分模型，从而优化了显存和内存的使用，保证即使在最复杂的场景下也能保持高质量的视觉效果。</p></li><li><p><strong>保持高性能</strong>：Nanite通过其核心减面算法，能够在保持视觉质量的同时减少每个簇的多边形数量，从而帮助维持游戏的流畅运行。</p></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> 分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>《Real-Time-Rendering-4th》</title>
      <link href="/posts/40376e8e.html"/>
      <url>/posts/40376e8e.html</url>
      
        <content type="html"><![CDATA[<h1 id="《实时渲染》第四版"><a href="#《实时渲染》第四版" class="headerlink" title="《实时渲染》第四版"></a>《实时渲染》第四版</h1><h3 id="Real-Time-Rendering-4th-Edition"><a href="#Real-Time-Rendering-4th-Edition" class="headerlink" title="Real-Time Rendering, 4th Edition"></a>Real-Time Rendering, 4th Edition</h3><ol><li><p><strong>概述</strong></p><ul><li>《Real-Time Rendering》（实时渲染）由Thomas Pharr, James Ferwerda, and Ingo Wald共同编辑，是计算机图形学领域中的一本经典教材。</li><li>第四版于2019年发布，包含了对现代GPU架构和技术的新理解，以及对游戏、虚拟现实、增强现实等领域的最新应用探讨。</li></ul></li><li><p><strong>内容结构</strong></p><ul><li>本书分为多个章节，每个章节深入讨论实时渲染中的一个特定方面，如光线追踪、阴影、纹理映射、光照模型、物理基础、着色语言等。</li><li>包括理论知识和实践案例研究，适合初学者到高级开发者学习。</li></ul></li><li><p><strong>技术覆盖</strong></p><ul><li>介绍了多种渲染算法和技术，比如延迟渲染、屏幕空间反射、环境光遮蔽等。</li><li>讨论了硬件加速方法，包括GPU编程技巧和多线程渲染策略。</li><li>探讨了未来可能的技术方向，如基于物理的渲染（PBR）、全局光照模拟等。</li></ul></li></ol><p>源文件仓库 &gt; <a href="https://github.com/Morakito/Real-Time-Rendering-4th-CN">https://github.com/Morakito/Real-Time-Rendering-4th-CN</a></p><p>在线阅读 &gt; <a href="https://www.wolai.com/dpaCHvw9WZRaB3aM2BzF9j">https://www.wolai.com/dpaCHvw9WZRaB3aM2BzF9j</a></p><p>前往下载 PDF (蓝奏搬运) &gt; <a href="https://sboxm.lanzoue.com/b0knde09a">https://sboxm.lanzoue.com/b0knde09a</a>  密码：1234</p><p>前往下载 PDF (Github) &gt; <a href="https://github.com/Morakito/Real-Time-Rendering-4th-CN/releases">https://github.com/Morakito/Real-Time-Rendering-4th-CN/releases</a></p><ul><li>在线网站：<a href="https://www.realtimerendering.com/">https://www.realtimerendering.com</a></li><li>勘误网站：<a href="https://www.realtimerendering.com/corrigenda.html">https://www.realtimerendering.com/corrigenda.html</a></li><li>参考文件网站：<a href="https://www.realtimerendering.com/refs.html">https://www.realtimerendering.com/refs.html</a></li><li>参考文献合集仓库：<a href="https://github.com/QianMo/Real-Time-Rendering-4th-Bibliography-Collection">https://github.com/QianMo/Real-Time-Rendering-4th-Bibliography-Collection</a></li><li>wolai文件：<a href="https://www.wolai.com/fkGSwxLu2pjWD7kiBY1V7W">https://www.wolai.com/fkGSwxLu2pjWD7kiBY1V7W</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 资源分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【PySide6】PySide6 小部件</title>
      <link href="/posts/7005543e.html"/>
      <url>/posts/7005543e.html</url>
      
        <content type="html"><![CDATA[<div id="title-style">    <h1>【PySide6】PySide6 小部件</h1>    <p>使用QPushButton, QCheckBox, QComboBox, QLabel, 和 QSlider 小部件</p></div><p>在Qt(和大多数用户界面)中，<strong>widget</strong>是用户可以与之交互的UI组件的名称。用户界面由多个小部件组成，排列在窗口内。</p><p>Qt提供了大量可用的小部件，甚至允许您创建自己的自定义和自定义小部件。</p><h1 id="快速演示-PySide6-Widgets"><a href="#快速演示-PySide6-Widgets" class="headerlink" title="快速演示:PySide6 Widgets"></a>快速演示:PySide6 Widgets</h1><p>首先，让我们来看一些最常见的 PySide 控件。以下代码创建了一系列 PySide 控件，并将它们添加到窗口布局中，以便你能一起看到它们： </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> (</span><br><span class="line">    QApplication,</span><br><span class="line">    QCheckBox,</span><br><span class="line">    QComboBox,</span><br><span class="line">    QDateEdit,</span><br><span class="line">    QDateTimeEdit,</span><br><span class="line">    QDial,</span><br><span class="line">    QDoubleSpinBox,</span><br><span class="line">    QFontComboBox,</span><br><span class="line">    QLabel,</span><br><span class="line">    QLCDNumber,</span><br><span class="line">    QLineEdit,</span><br><span class="line">    QMainWindow,</span><br><span class="line">    QProgressBar,</span><br><span class="line">    QPushButton,</span><br><span class="line">    QRadioButton,</span><br><span class="line">    QSlider,</span><br><span class="line">    QSpinBox,</span><br><span class="line">    QTimeEdit,</span><br><span class="line">    QVBoxLayout,</span><br><span class="line">    QWidget,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;Widgets App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line">        widgets = [</span><br><span class="line">            QCheckBox,</span><br><span class="line">            QComboBox,</span><br><span class="line">            QDateEdit,</span><br><span class="line">            QDateTimeEdit,</span><br><span class="line">            QDial,</span><br><span class="line">            QDoubleSpinBox,</span><br><span class="line">            QFontComboBox,</span><br><span class="line">            QLCDNumber,</span><br><span class="line">            QLabel,</span><br><span class="line">            QLineEdit,</span><br><span class="line">            QProgressBar,</span><br><span class="line">            QPushButton,</span><br><span class="line">            QRadioButton,</span><br><span class="line">            QSlider,</span><br><span class="line">            QSpinBox,</span><br><span class="line">            QTimeEdit,</span><br><span class="line">        ]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> widget <span class="keyword">in</span> widgets:</span><br><span class="line">            layout.addWidget(widget())</span><br><span class="line"></span><br><span class="line">        central_widget = QWidget()</span><br><span class="line">        central_widget.setLayout(layout)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(central_widget)</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line">window = MainWindow()</span><br><span class="line">window.show()</span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><p class="admonition admonition-run"><span class="admonition-kind"><i class="fas fa-rocket"></i></span> <em>运行这段代码!</em> 你将看到一个窗口出现，其中包含我们创建的所有小部件。</p><p><img src="https://cdnjson.com/images/2024/08/07/widgets-list.webp" alt="widgets-list.webp"></p><p>让我们从上到下看一下所有的示例小部件:</p><table><thead><tr><th>Widget</th><th>功能描述</th></tr></thead><tbody><tr><td><code>QCheckbox</code></td><td>一个复选框</td></tr><tr><td><code>QComboBox</code></td><td>下拉列表框</td></tr><tr><td><code>QDateEdit</code></td><td>用于编辑日期和时间</td></tr><tr><td><code>QDateTimeEdit</code></td><td>用于编辑日期和时间</td></tr><tr><td><code>QDial</code></td><td>可旋转的刻度盘</td></tr><tr><td><code>QDoubleSpinBox</code></td><td>用于浮点数的选择器</td></tr><tr><td><code>QFontComboBox</code></td><td>字体列表</td></tr><tr><td><code>QLCDNumber</code></td><td>一个不太美观的 LCD 显示</td></tr><tr><td><code>QLabel</code></td><td>仅是一个标签，非交互式</td></tr><tr><td><code>QLineEdit</code></td><td>输入一行文本</td></tr><tr><td><code>QProgressBar</code></td><td>进度条</td></tr><tr><td><code>QPushButton</code></td><td>按钮</td></tr><tr><td><code>QRadioButton</code></td><td>单选按钮组，仅一项可选</td></tr><tr><td><code>QSlider</code></td><td>滑动条</td></tr><tr><td><code>QSpinBox</code></td><td>整数选择器</td></tr><tr><td><code>QTimeEdit</code></td><td>用于编辑时间</td></tr></tbody></table><p>还有更多的小部件，但它们不太适合!您可以通过检查Qt文档来查看它们。</p><p>接下来，我们将逐步了解一些最常用的小部件，并更详细地研究它们。为了试验这些小部件，我们需要一个简单的应用程序来放置它们。将下面的代码保存到一个名为<code>app.py</code>的文件中，并运行它以确保它正常工作:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> Qt</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> (</span><br><span class="line">    QApplication,</span><br><span class="line">    QCheckBox,</span><br><span class="line">    QComboBox,</span><br><span class="line">    QDial,</span><br><span class="line">    QDoubleSpinBox,</span><br><span class="line">    QLabel,</span><br><span class="line">    QLineEdit,</span><br><span class="line">    QListWidget,</span><br><span class="line">    QMainWindow,</span><br><span class="line">    QSlider,</span><br><span class="line">    QSpinBox,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(MainWindow, self).__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line">window = MainWindow()</span><br><span class="line">window.show()</span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><p>在上面的代码中，我们导入了许多Qt小部件。现在，我们将依次遍历这些小部件，将它们添加到我们的应用程序中，并查看它们的行为。</p><h2 id="QLabel"><a href="#QLabel" class="headerlink" title="QLabel"></a>QLabel</h2><p>我们将从<code>QLabel</code>开始，它可以说是Qt工具箱中最简单的部件之一。这是一个简单的单行文本，您可以在应用程序中定位它。你可以在创建文本时通过传入一个<code>str</code>来设置文本:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">label = QLabel(<span class="string">&quot;Hello&quot;</span>)</span><br></pre></td></tr></table></figure><p>或是使用 .setText() 函数:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">label_1 = QLabel(<span class="string">&quot;1&quot;</span>)  <span class="comment"># 标签创建时的内容是数字 1.</span></span><br><span class="line">label_2.setText(<span class="string">&quot;2&quot;</span>)   <span class="comment"># 标签现在显示的内容是数字 2.</span></span><br></pre></td></tr></table></figure><p>您还可以调整字体参数，例如字体大小或小部件中文本的对齐方式:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(MainWindow, self).__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        label = QLabel(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">        font = label.font()</span><br><span class="line">        font.setPointSize(<span class="number">30</span>)</span><br><span class="line">        label.setFont(font)</span><br><span class="line">        label.setAlignment(</span><br><span class="line">            Qt.AlignmentFlag.AlignHCenter | Qt.AlignmentFlag.AlignVCenter</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(label)</span><br></pre></td></tr></table></figure><p><img src="https://cdnjson.com/images/2024/08/07/widgets1.webp" alt="widgets1.webp"></p><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span> <b>提示</b>:请注意，如果您想要更改小部件字体的属性，通常最好是获取当前字体，更新它，然后再应用它。这确保了字体面与桌面惯例保持一致。</p><p>对齐方式是使用命名空间中的标志来指定的<code>Qt.AlignmentFlag</code>。可用于水平对齐的标志包括：</p><table><thead><tr><th>flag</th><th>行为</th></tr></thead><tbody><tr><td>Qt.AlignmentFlag.AlignLeft</td><td>与左边缘对齐。</td></tr><tr><td>Qt.AlignmentFlag.AlignRight</td><td>与右边缘对齐。</td></tr><tr><td>Qt.AlignmentFlag.AlignHCenter</td><td>在可用空间中水平居中。</td></tr><tr><td>Qt.AlignmentFlag.AlignJustify</td><td>在可用空间内对齐文本。</td></tr></tbody></table><p>可用于垂直对齐的标志是：</p><table><thead><tr><th>flag</th><th>行为</th></tr></thead><tbody><tr><td>Qt.AlignmentFlag.AlignTop</td><td>与顶部对齐。</td></tr><tr><td>Qt.AlignmentFlag.AlignBottom</td><td>与底部对齐。</td></tr><tr><td>Qt.AlignmentFlag.AlignVCenter</td><td>在可用空间中垂直居中。</td></tr></tbody></table><p>您可以使用管道 ( <code>|</code>) 将标志组合在一起，但请注意，您一次只能使用垂直或水平对齐标志：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">align_top_left = Qt.AlignmentFlag.AlignLeft | Qt.AlignmentFlag.AlignTop</span><br></pre></td></tr></table></figure><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span> <b>提示</b>:请注意，您使用OR管道（“|”）将两个标志（不是A &amp; B）组合在一起。这是因为标志是不重叠的位掩码。例如，Qt.AlignmentFlag.AlignLeft具有十六进制值0x0001，而Qt.AlignmentFlag.AlignBottom为0x0040。通过将标志进行 OR 运算，我们得到代表“左下角”的值0x0041。此原则适用于所有其他组合 Qt 标志。如果这对您来说是胡言乱语，请随意忽略它并继续。只需记住使用管道运算符（“|”）。</p><p>最后，还有一个可以同时在两个方向上居中的简写标志：</p><table><thead><tr><th>flag</th><th>行为</th></tr></thead><tbody><tr><td>Qt.AlignmentFlag.AlignCenter</td><td>水平和垂直居中</td></tr></tbody></table><p><img src="https://pic.imgdb.cn/item/6734a00dd29ded1a8c9c8b7b.jpg" alt="“Otje” 猫。"></p><p>将文件放在与代码相同的文件夹中，然后在窗口中显示它，如下所示：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">widget.setPixmap(QPixmap(<span class="string">&#x27;otje.jpg&#x27;</span>))</span><br></pre></td></tr></table></figure><p><img src="https://pic.imgdb.cn/item/6734a08bd29ded1a8c9cf4be.png" alt="窗口里展示的猫“Otje”"></p><p>默认情况下，图像会缩放，同时保持其纵横比。如果您希望它拉伸和缩放以完全适合窗口，您可以<code>.setScaledContents(True)</code>在以下位置设置<code>QLabel</code>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">label.setScaledContents(<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h2 id="QCheckBox"><a href="#QCheckBox" class="headerlink" title="QCheckBox"></a>QCheckBox</h2><p>下一个要查看的小部件是<code>QCheckBox()</code>，顾名思义，它向用户显示一个可勾选框。但是，与所有 Qt 小部件一样，有许多可配置选项可以更改小部件行为：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        checkbox = QCheckBox()</span><br><span class="line">        checkbox.setCheckState(Qt.CheckState.Checked)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># For tristate: widget.setCheckState(Qt.PartiallyChecked)</span></span><br><span class="line">        <span class="comment"># Or: widget.setTriState(True)</span></span><br><span class="line">        checkbox.stateChanged.connect(self.show_state)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(checkbox)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show_state</span>(<span class="params">self, state</span>):</span><br><span class="line">        <span class="built_in">print</span>(state == Qt.CheckState.Checked.value)</span><br><span class="line">        <span class="built_in">print</span>(state)</span><br></pre></td></tr></table></figure><p><img src="https://pic.imgdb.cn/item/6734a11ed29ded1a8c9d673c.png" alt="Windows、Mac 和 Ubuntu Linux 上的 QCheckBox。"></p><p><code>.setChecked()</code>您可以使用或以编程方式设置复选框状态<code>.setCheckState()</code>。前者接受<code>True</code>或 ，<code>False</code>,分别表示选中或未选中。使用<code>.setCheckState()</code>，您还可以使用命名空间指定特定的选中状态<code>Qt.CheckState</code>：</p><table><thead><tr><th>flag</th><th>行为</th></tr></thead><tbody><tr><td>Qt.CheckState.Unchecked</td><td>该项目未选中</td></tr><tr><td>Qt.CheckState.PartiallyChecked</td><td>商品已部分托运</td></tr><tr><td>Qt.CheckState.Checked</td><td>商品已检查</td></tr></tbody></table><p>支持部分选中 ( <code>Qt.CheckState.PartiallyChecked</code>) 状态的复选框通常称为三态，这意味着小部件既不打开也不关闭。处于此状态的复选框通常显示为灰色复选框，通常用于分层复选框排列中，其中子项链接到父复选框。</p><p>如果将值设置为，<code>Qt.CheckState.PartiallyChecked</code>复选框将变为三态。您还可以将复选框设置为三态，而无需使用以下方法将当前状态设置为部分选中：<code>.setTriState(True)</code></p><p>您可能会注意到，当脚本运行时，当前状态编号显示为带有<code>int</code> checked &#x3D; 2、 unchecked &#x3D;0和 partial checked &#x3D; 的1。您不需要记住这些值，例如<code>Qt.CheckState.Checked</code>命名空间变量 &#x3D; 2,。这是这些状态各自标志的值。这意味着您可以使用 测试状态<code>state == Qt.CheckState.Checked</code>。</p><h2 id="QComboBox"><a href="#QComboBox" class="headerlink" title="QComboBox"></a>QComboBox</h2><p>该<code>QComboBox</code>小部件是一个下拉列表，默认情况下会关闭，并带有一个箭头以将其打开。您可以从列表中选择一个项目，当前选定的项目将显示为小部件上的标签。组合框适合从选项列表中选择选项。</p><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span> 您可能见过在文字处理应用程序中用于选择字体或大小的组合框。尽管 Qt 实际上提供了一个特定的字体选择组合框QFontComboBox。</p><p>您可以<code>QComboBox</code>通过将字符串列表传递给 来将项目添加到<code>.addItems()</code>。项目将按照提供的顺序添加：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        combobox = QComboBox()</span><br><span class="line">        combobox.addItems([<span class="string">&quot;One&quot;</span>, <span class="string">&quot;Two&quot;</span>, <span class="string">&quot;Three&quot;</span>])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># The default signal from currentIndexChanged sends the index</span></span><br><span class="line">        combobox.currentIndexChanged.connect(self.index_changed)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># The same signal can send a text string</span></span><br><span class="line">        combobox.currentTextChanged.connect(self.text_changed)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(combobox)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">index_changed</span>(<span class="params">self, index</span>):  <span class="comment"># index is an int starting from 0</span></span><br><span class="line">        <span class="built_in">print</span>(index)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">text_changed</span>(<span class="params">self, text</span>):  <span class="comment"># text is a str</span></span><br><span class="line">        <span class="built_in">print</span>(text)</span><br></pre></td></tr></table></figure><p><img src="https://pic.imgdb.cn/item/6734a23cd29ded1a8c9e5e90.png" alt="Windows、Mac 和 Ubuntu Linux 上的 QComboBox。"></p><p>当当前选定项更新时触发信号<code>.currentIndexChanged</code>，默认情况下传递列表中选定项的索引。还有一个<code>.currentTextChanged</code>信号，它提供当前选定项的标签。这种信号通常更有用。</p><p><code>QComboBox</code>也可以是可编辑的，允许用户输入列表中当前没有的值，并将其插入或仅用作值。要使框可编辑：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">combobox.setEditable(<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p>您还可以设置一个标志来确定如何处理插入。这些标志存储在<code>QComboBox</code>类本身中，如下所示：</p><p>要使用这些，请按如下方式应用标志：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">combobox.setInsertPolicy(QComboBox.InsertPolicy.InsertAlphabetically)</span><br></pre></td></tr></table></figure><p>您还可以使用下列方法限制箱子中允许的物品数量<code>.setMaxCount()</code>：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">combobox.setMaxCount(<span class="number">10</span>)</span><br></pre></td></tr></table></figure><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span> 要更深入了解，QComboBox请查看<a href="https://www.pythonguis.com/docs/qcombobox/?_x_tr_sl=auto&_x_tr_tl=zh-CN&_x_tr_hl=en&_x_tr_pto=wapp" target="_blank">QComboBox 文档。</a></p><h2 id="QListWidget"><a href="#QListWidget" class="headerlink" title="QListWidget"></a>QListWidget</h2><p>接下来是<code>QListWidget</code>。它与 非常相似<code>QComboBox</code>，主要区别在于可用的信号和屏幕外观。这是一个带有选项列表的框，而不是下拉列表：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        listwidget = QListWidget()</span><br><span class="line">        listwidget.addItems([<span class="string">&quot;One&quot;</span>, <span class="string">&quot;Two&quot;</span>, <span class="string">&quot;Three&quot;</span>])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># In QListWidget there are two separate signals for the item, and the str</span></span><br><span class="line">        listwidget.currentItemChanged.connect(self.index_changed)</span><br><span class="line">        listwidget.currentTextChanged.connect(self.text_changed)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(listwidget)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">index_changed</span>(<span class="params">self, index</span>):  <span class="comment"># Not an index, index is a QListWidgetItem</span></span><br><span class="line">        <span class="built_in">print</span>(index.text())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">text_changed</span>(<span class="params">self, text</span>):  <span class="comment"># text is a str</span></span><br><span class="line">        <span class="built_in">print</span>(text)</span><br></pre></td></tr></table></figure><p><img src="https://pic.imgdb.cn/item/6734a3f7d29ded1a8ca045f9.png" alt="Windows、Mac 和 Ubuntu Linux 上的 QListWidget。"></p><p><code>QListWidget</code>提供<code>currentItemChanged</code>发送<code>QListWidgetItem</code>（列表框的元素）的信号，以及<code>currentTextChanged</code>发送项目文本的信号。</p><h2 id="QLineEdit"><a href="#QLineEdit" class="headerlink" title="QLineEdit"></a>QLineEdit</h2><p>该<code>QLineEdit</code>小部件是一个简单的单行文本编辑框，用户可以在其中输入内容。它们用于表单字段或没有有效输入限制列表的设置。例如，输入电子邮件地址或计算机名称时：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.lineedit = QLineEdit()</span><br><span class="line">        self.lineedit.setMaxLength(<span class="number">10</span>)</span><br><span class="line">        self.lineedit.setPlaceholderText(<span class="string">&quot;Enter your text&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># widget.setReadOnly(True) # uncomment this to make readonly</span></span><br><span class="line"></span><br><span class="line">        self.lineedit.returnPressed.connect(self.return_pressed)</span><br><span class="line">        self.lineedit.selectionChanged.connect(self.selection_changed)</span><br><span class="line">        self.lineedit.textChanged.connect(self.text_changed)</span><br><span class="line">        self.lineedit.textEdited.connect(self.text_edited)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(self.lineedit)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">return_pressed</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Return pressed!&quot;</span>)</span><br><span class="line">        self.lineedit.setText(<span class="string">&quot;BOOM!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">selection_changed</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Selection changed&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(self.lineedit.selectedText())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">text_changed</span>(<span class="params">self, text</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Text changed...&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">text_edited</span>(<span class="params">self, text</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Text edited...&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(text)</span><br></pre></td></tr></table></figure><p><img src="https://pic.imgdb.cn/item/6734a45dd29ded1a8ca0a082.png" alt="Windows、Mac 和 Ubuntu Linux 上的 QLineEdit。"></p><p>如上面的代码所示，您可以设置行编辑中文本的最大长度。</p><p>有<code>QLineEdit</code>许多信号可用于不同的编辑事件，包括用户按下Enter键时以及用户选择发生更改时。还有两个编辑信号，一个用于框中的文本已被编辑时，另一个用于框中的文本已被更改时。这里的区别在于用户编辑和程序更改。<code>textEdited</code>仅当用户编辑文本时才会发送信号。</p><p>此外，可以使用输入掩码执行输入验证，以定义支持哪些字符以及在哪里支持。这可以按如下方式应用于字段：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lineedit.setInputMask(<span class="string">&#x27;000.000.000.000;_&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="QSpinBox和QDoubleSpinBox"><a href="#QSpinBox和QDoubleSpinBox" class="headerlink" title="QSpinBox和QDoubleSpinBox"></a>QSpinBox和QDoubleSpinBox</h2><p><code>QSpinBox</code>提供一个带有箭头的小型数字输入框来增加和减少值。QSpinBox支持整数，而相关的小部件QDoubleSpinBox支持浮点数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        spinbox = QSpinBox()</span><br><span class="line">        <span class="comment"># Or: doublespinbox = QDoubleSpinBox()</span></span><br><span class="line"></span><br><span class="line">        spinbox.setMinimum(-<span class="number">10</span>)</span><br><span class="line">        spinbox.setMaximum(<span class="number">3</span>)</span><br><span class="line">        <span class="comment"># Or: doublespinbox.setRange(-10, 3)</span></span><br><span class="line"></span><br><span class="line">        spinbox.setPrefix(<span class="string">&quot;$&quot;</span>)</span><br><span class="line">        spinbox.setSuffix(<span class="string">&quot;c&quot;</span>)</span><br><span class="line">        spinbox.setSingleStep(<span class="number">3</span>)  <span class="comment"># Or e.g. 0.5 for QDoubleSpinBox</span></span><br><span class="line">        spinbox.valueChanged.connect(self.value_changed)</span><br><span class="line">        spinbox.textChanged.connect(self.value_changed_str)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(spinbox)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">value_changed</span>(<span class="params">self, value</span>):</span><br><span class="line">        <span class="built_in">print</span>(value)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">value_changed_str</span>(<span class="params">self, str_value</span>):</span><br><span class="line">        <span class="built_in">print</span>(str_value)</span><br></pre></td></tr></table></figure><p>运行它，你会看到一个数字输入框。该值显示前后修正单位，并且限制在 +3 到 -10 的范围内。</p><p><img src="https://pic.imgdb.cn/item/6734a4ded29ded1a8ca11891.png" alt="Windows、Mac 和 Ubuntu Linux 上的 QSpinBox。"></p><p>上面的演示代码展示了该小部件可用的各种功能。</p><p>要设置可接受值的范围，可以使用<code>.setMinimum()</code>和<code>.setMaximum()</code>。您也可以使用<code>.setRange()</code>同时设置两者。值类型的注释支持前缀和后缀，可以将其添加到数字中，例如分别使用<code>.setPrefix()</code>和表示货币标记或单位<code>.setSuffix()</code>。</p><p>单击小部件上的向上和向下箭头将增加或减少小部件中的值，该值可以使用来设置<code>.setSingleStep()</code>。请注意，这对小部件可接受的值没有影响。</p><p>和<code>QSpinBox</code>都有<code>QDoubleSpinBox</code>一个.<code>valueChanged</code>信号，当它们的值改变时，该信号就会触发。原始<code>.valueChanged</code>信号发送数值（一个<code>int</code>或一个<code>floa</code>t），而<code>.textChanged</code>将值作为字符串发送，包括前缀和后缀字符。</p><p>您可以选择禁用旋转框行编辑上的文本输入，方法是将其设置为只读。使用此设置，只能使用控件更改值。这还具有禁用闪烁光标的作用：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spinbox.lineEdit().setReadOnly(<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h2 id="QSlider"><a href="#QSlider" class="headerlink" title="QSlider"></a>QSlider</h2><p><code>QSlider</code>提供滑动条小部件，其内部工作原理与 非常相似<code>QDoubleSpinBox</code>。滑块不是以数字方式显示当前值，而是通过其手柄沿小部件长度的位置来定义其值。这通常在提供两个极端之间的调整时很有用，但不需要绝对准确。这种类型的小部件最常见的用途是用于音量控制。</p><p><code>.sliderMoved</code>每当滑块移动位置时都会触发一个附加信号，<code>.sliderPressed</code>每当滑块被单击时都会发出一个信号：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        slider = QSlider()</span><br><span class="line"></span><br><span class="line">        slider.setMinimum(-<span class="number">10</span>)</span><br><span class="line">        slider.setMaximum(<span class="number">3</span>)</span><br><span class="line">        <span class="comment"># Or: widget.setRange(-10,3)</span></span><br><span class="line"></span><br><span class="line">        slider.setSingleStep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">        slider.valueChanged.connect(self.value_changed)</span><br><span class="line">        slider.sliderMoved.connect(self.slider_position)</span><br><span class="line">        slider.sliderPressed.connect(self.slider_pressed)</span><br><span class="line">        slider.sliderReleased.connect(self.slider_released)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(slider)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">value_changed</span>(<span class="params">self, value</span>):</span><br><span class="line">        <span class="built_in">print</span>(value)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">slider_position</span>(<span class="params">self, position</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;position&quot;</span>, position)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">slider_pressed</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Pressed!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">slider_released</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Released&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行此程序，您将在屏幕上看到一个滑块小部件。拖动滑块可更改其值。</p><p><img src="https://pic.imgdb.cn/item/6734a583d29ded1a8ca1b86b.png" alt="Windows、Mac 和 Ubuntu Linux 上的 QSlider。"></p><p>您还可以通过在创建滑块时传入方向来构建具有垂直或水平方向的滑块。方向标志在<code>Qt.Orientation</code>命名空间中定义。例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slider = QSlider(Qt.Orientation.Vertical)</span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slider = QSlider(Qt.Orientation.Horizontal)</span><br></pre></td></tr></table></figure><h2 id="QDial"><a href="#QDial" class="headerlink" title="QDial"></a>QDial</h2><p>最后，<code>QDial</code>是一个可旋转的小部件，其工作方式与滑块相同，但显示为模拟表盘。这看起来不错，但从 UI 角度来看并不是特别用户友好。然而，它们经常在音频应用程序中用作真实世界模拟表盘的模拟：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        dial = QDial()</span><br><span class="line">        dial.setRange(-<span class="number">10</span>, <span class="number">100</span>)</span><br><span class="line">        dial.setSingleStep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        dial.valueChanged.connect(self.value_changed)</span><br><span class="line">        dial.sliderMoved.connect(self.dial_position)</span><br><span class="line">        dial.sliderPressed.connect(self.dial_pressed)</span><br><span class="line">        dial.sliderReleased.connect(self.dial_released)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(dial)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">value_changed</span>(<span class="params">self, value</span>):</span><br><span class="line">        <span class="built_in">print</span>(value)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dial_position</span>(<span class="params">self, position</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;position&quot;</span>, position)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dial_pressed</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Pressed!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">dial_released</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Released&quot;</span>)</span><br></pre></td></tr></table></figure><p>运行这个，你会看到一个圆形刻度盘，旋转它可以从范围中选择一个数字。</p><p><img src="https://pic.imgdb.cn/item/6734a611d29ded1a8ca22ada.png" alt="Windows、Mac 和 Ubuntu Linux 上的 QDial。"></p><p>这些信号与 相同<code>QSlider</code>，并保留相同的名称（例如<code>.sliderMoved</code>）。</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>至此，我们对 PySide6 应用程序中使用的常见小部件进行了简要介绍。要查看可用小部件的完整列表（包括其所有信号和属性），请查看<a href="http://doc.qt.io/qt-5/">Qt 文档</a>。</p><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span> 如需更深入了解小部件，请查看<a href="https://www.pythonguis.com/docs/qcombobox/" target="_blank">QComboBox 文档</a> <a href="https://www.pythonguis.com/docs/qpushbutton/" target="_blank">QComboBox 文档。</a></p><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span>    <b>原文信息：《PySide6 Widgets》</b><br />    <b>原作者：Martin Fitzpatrick</b><br />    <b>出处：<a href="https://www.pythonguis.com/tutorials/pyside6-widgets/" target="blank">https://www.pythonguis.com/tutorials/pyside6-widgets/</a></b><br />    <b>免责声明：本翻译内容仅代表翻译者的个人观点与理解，原作者对此翻译版本并未进行认可，翻译过程中可能存在误差，读者应自行核实原文内容。</b></p><style>.admonition a {    color: #EB5160;    text-decoration: none;}.admonition {    position: relative;    padding: 1rem 3rem 1rem 1rem;    background-color: #E9EBEF;    position: relative;    line-height: 1.8em;    border-radius: 5px;    border: 1px solid #D4D6DA;    margin: 2rem 0;}.admonition-kind {    opacity: 0.2;    position: absolute;    top: 0.25rem;    right: 0.25rem;    font-size: 1.5rem;}.admonition-body {    margin-right: 2rem;}p.admonition {    font-size: 1rem;    margin: 0.5rem 0;    font-family: 'Montserrat', 'Verdana', 'Geneva', 'Tahoma', sans-serif;}.admonition-note {    background-color: #FFFAED;    color: #b18f12;    border-color: #b18f12;}.admonition-tip {    background-color: #ECF1F6;    color: #376F9F;    border-color: #376F9F;}.admonition-warning {    background-color: #FBE9E7;    color: #FE4A49;    border-color: #FE4A49;}.admonition-ok {    background-color: #EEF7EF;    color: #4CAF50;    border-color: #4CAF50;}.admonition-challenge {    color: #3F51B5;}article img {    display: block;    float: none;    clear: both;    max-width: 80%;    height: auto;    margin: 3rem auto;}article img+em {    font-family: 'Poppins', 'Century Gothic', 'AppleGothic', sans-serif;    display: block;    width: 80%;    font-style: normal;    font-size: 0.8rem;    margin: -2.5rem auto 3rem auto;    text-align: center;    color: #888;}#title-style{        margin: 0 auto;        text-align: center;    }p{    -webkit-text-size-adjust: 100%;    color: #111;    letter-spacing: normal;    word-spacing: normal;    text-rendering: auto;    font-size: 1rem;    line-height: 1.8;    font-weight: 400;}</style>]]></content>
      
      
      
        <tags>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【PySide6】Pyside6 信号、插槽和事件</title>
      <link href="/posts/cea1e236.html"/>
      <url>/posts/cea1e236.html</url>
      
        <content type="html"><![CDATA[<div id="title-style">    <h1>【PySide6】Pyside6 信号、插槽和事件</h1>    <p>用户行为和GUI事件的触发响应动作</p></div><p><a>此教程对PyQt6，PySide2和PyQt5同样适用</a></p><p>目前，我们已经创建了一个窗口，并在它上面添加了一个普通的按钮组件，但是这个按钮现在没有任何作用。这个窗口现在不是很有用–当你创建GUI应用程序，你通常想使用他们做某事！我们需要一个可以使当按钮被按下时可以使某些事情发生的方法。在Qt,这种方法由信号、插槽和事件提供。</p><h1 id="信号-插槽"><a href="#信号-插槽" class="headerlink" title="信号&amp;插槽"></a>信号&amp;插槽</h1><p>当某事发生时，信号是由部件发出的信息。“某事”可以是：按钮被按下、输入框的文字被编辑和窗口文字的改变等等。许多信号由用户动作发起，但这不是固定的规则。</p><p>除了通知正在发生的事情外，信号还可以发送数据以提供有关所发生事件的其他上下文。</p><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span> 你还可以创建自己的自定义信号，我们将在稍后探讨</p><p>插槽是Qt用来接收信号的名词。在Python中，你的应用程序的任何方法（或函数）可以作为一个插槽–只需将信号连接到它。如果信号发送数据，则接收函数也将接收该数据。许多Qt小部件也有自己的内置插槽，这意味着你可以直接将Qt小部件连接在一起。</p><p>让我们来看看Qt信号的基础知识，以及如何使用它们来连接部件，从而在应用程序中实现目标。</p><p>保存下面的代码为文件<code>app.py</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line">window = MainWindow()</span><br><span class="line">window.show()</span><br><span class="line"></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><h2 id="QPushButton-信号"><a href="#QPushButton-信号" class="headerlink" title="QPushButton 信号"></a>QPushButton 信号</h2><p>我们的简单应用目前有一个 QMainWindow，其中有一个 QPushButton 作为中心小部件。让我们开始将这个按钮与一个自定义的 Python 方法连接起来。这里我们创建一个简单的自定义槽 <code>the_button_was_clicked()</code>，该方法接受 QPushButton 对象发出的 <code>clicked</code> 信号：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QPushButton</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;我的应用&quot;</span>)</span><br><span class="line"></span><br><span class="line">        button = QPushButton(<span class="string">&quot;按我!&quot;</span>)</span><br><span class="line">        button.clicked.connect(self.the_button_was_clicked)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(button)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">the_button_was_clicked</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;按钮被点击!&quot;</span>)</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line">window = MainWindow()</span><br><span class="line">window.show()</span><br><span class="line"></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><p class="admonition admonition-run"><span class="admonition-kind"><i class="fas fa-rocket"></i></span> <em>运行这段代码!</em> 你会看到每次点击按钮时控制台都会打印出 "按钮被点击!"。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">按钮被点击!</span><br><span class="line">按钮被点击!</span><br><span class="line">按钮被点击!</span><br><span class="line">按钮被点击!</span><br></pre></td></tr></table></figure><h2 id="接收数据"><a href="#接收数据" class="headerlink" title="接收数据"></a>接收数据</h2><p>这是一个好的开始！我们已经知道，信号还可以发送数据，提供有关刚刚发生的事情的更多信息。<code>点击</code>信号也不例外，它还为按钮提供了选中（或切换）状态。对于普通按钮，这始终为<code>False</code>，因此我们的第一个插槽忽略了这些数据。但是，我们可以使按钮可检查并查看效果。下面是一个例子，展示如何在槽中接收信号发送的数据：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QPushButton</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;我的应用&quot;</span>)</span><br><span class="line"></span><br><span class="line">        button = QPushButton(<span class="string">&quot;按我!&quot;</span>)</span><br><span class="line">        button.setCheckable(<span class="literal">True</span>)</span><br><span class="line">        button.clicked.connect(self.the_button_was_clicked)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(button)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">the_button_was_clicked</span>(<span class="params">self, checked</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;被点击!&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;选中？&quot;</span>, checked)</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line">window = MainWindow()</span><br><span class="line">window.show()</span><br><span class="line"></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><p class="admonition admonition-run"><span class="admonition-kind"><i class="fas fa-rocket"></i></span> <em>运行这段代码!</em> 每次点击按钮时，控制台会显示 "被点击!" 和按钮的状态。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">被点击!</span><br><span class="line">选中？ <span class="literal">True</span></span><br><span class="line">被点击!</span><br><span class="line">选中？ <span class="literal">False</span></span><br><span class="line">被点击!</span><br><span class="line">选中？ <span class="literal">True</span></span><br><span class="line">被点击!</span><br><span class="line">选中？ <span class="literal">False</span></span><br><span class="line">被点击!</span><br><span class="line">选中？ <span class="literal">True</span></span><br></pre></td></tr></table></figure><p>你可以将任意多个插槽连接到一个信号，并且可以在插槽上同时响应不同版本的信号。</p><h2 id="存储数据"><a href="#存储数据" class="headerlink" title="存储数据"></a>存储数据</h2><p>通常，将小部件的当前状态存储在 Python 变量中是有用的。这样你可以像处理其他 Python 变量一样处理这些值，而无需访问原始小部件。你可以在实例变量中存储这些值。下面的例子展示了如何存储按钮被选中<code>button_is_checked</code>的状态：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.button_is_checked = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        button = QPushButton(<span class="string">&quot;Press Me!&quot;</span>)</span><br><span class="line">        button.setCheckable(<span class="literal">True</span>)</span><br><span class="line">        button.clicked.connect(self.the_button_was_toggled)</span><br><span class="line">        button.setChecked(self.button_is_checked)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(button)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">the_button_was_toggled</span>(<span class="params">self, checked</span>):</span><br><span class="line">        self.button_is_checked = checked</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(self.button_is_checked)</span><br></pre></td></tr></table></figure><p>首先，我们将变量的默认值设置为<code>True</code>，然后使用默认值设置小部件的初始状态。当小部件状态发生变化时，我们会收到信号并更新变量以匹配。</p><p>您可以将此模式用于任何PySide小部件。如果小部件不提供发送当前状态的信号，则需要在处理程序中直接从小部件检索值。例如，我们在这里检查按下的处理程序中的已检查状态：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.button_is_checked = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.button = QPushButton(<span class="string">&quot;Press Me!&quot;</span>)</span><br><span class="line">        self.button.setCheckable(<span class="literal">True</span>)</span><br><span class="line">        self.button.released.connect(self.the_button_was_released)</span><br><span class="line">        self.button.setChecked(self.button_is_checked)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(self.button)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">the_button_was_released</span>(<span class="params">self</span>):</span><br><span class="line">        self.button_is_checked = self.button.isChecked()</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(self.button_is_checked)</span><br></pre></td></tr></table></figure><p class="admonition admonition-note"><span class="admonition-kind"><i class="fas fa-sticky-note"></i></span>我们需要在<code>self</code>上保留一个按钮的引用，这样我们就可以在我们的插槽中访问它。</p><h2 id="改变界面"><a href="#改变界面" class="headerlink" title="改变界面"></a>改变界面</h2><p>到目前为止，我们已经了解了如何接受信号并将输出打印到控制台。但是，当我们点击按钮时，在界面中发生一些事情怎么样？让我们更新我们的插槽方法来修改按钮，更改文本并禁用按钮，使其不再可点击。我们还将暂时关闭可检查状态：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.button = QPushButton(<span class="string">&quot;Press Me!&quot;</span>)</span><br><span class="line">        self.button.clicked.connect(self.the_button_was_clicked)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(self.button)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">the_button_was_clicked</span>(<span class="params">self</span>):</span><br><span class="line">        self.button.setText(<span class="string">&quot;You already clicked me.&quot;</span>)</span><br><span class="line">        self.button.setEnabled(<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Also change the window title.</span></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My Oneshot App&quot;</span>)</span><br></pre></td></tr></table></figure><p>同样，因为我们需要能够访问<code>the_button_was_clicked</code>方法中的<code>按钮</code>，所以我们自己保留了对它的引用。通过向<code>setText（）</code>传递字符串来更改按钮的文本。要禁用按钮，请使用<code>False</code>调用<code>setEnabled（）</code>。</p><p class="admonition admonition-run"><span class="admonition-kind"><i class="fas fa-rocket"></i></span> <em>运行这段代码!</em> 如果单击按钮，文本将更改，按钮将变得无法单击。</p><p>不限于更改触发信号的按钮，你可以在插槽方法中做任何您想做的事情。例如，尝试将以下行添加到<code>the_button_was_clicked（）</code>方法中，以更改窗口标题：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.setWindowTitle(<span class="string">&quot;A new window title&quot;</span>)</span><br></pre></td></tr></table></figure><p>大多数小部件都有自己的信号，我们用于窗口的<code>QMainWindow</code>也不例外。在以下更复杂的示例中，我们将<code>QMainWindow</code>上的<code>windowTitleChanged</code>信号连接到自定义插槽方法。</p><p>在以下示例中，我们将<code>QMainWindow</code>上的<code>windowTitleChanged</code>信号连接到方法槽<code>the_window_title_changed（）</code>。此插槽还接收新的窗口标题：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> choice</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QPushButton</span><br><span class="line"></span><br><span class="line">window_titles = [</span><br><span class="line">    <span class="string">&quot;My App&quot;</span>,</span><br><span class="line">    <span class="string">&quot;My App&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Still My App&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Still My App&quot;</span>,</span><br><span class="line">    <span class="string">&quot;What on earth&quot;</span>,</span><br><span class="line">    <span class="string">&quot;What on earth&quot;</span>,</span><br><span class="line">    <span class="string">&quot;This is surprising&quot;</span>,</span><br><span class="line">    <span class="string">&quot;This is surprising&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Something went wrong&quot;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.n_times_clicked = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.button = QPushButton(<span class="string">&quot;Press Me!&quot;</span>)</span><br><span class="line">        self.button.clicked.connect(self.the_button_was_clicked)</span><br><span class="line"></span><br><span class="line">        self.windowTitleChanged.connect(self.the_window_title_changed)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(self.button)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">the_button_was_clicked</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Clicked.&quot;</span>)</span><br><span class="line">        new_window_title = choice(window_titles)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Setting title:  %s&quot;</span> % new_window_title)</span><br><span class="line">        self.setWindowTitle(new_window_title)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">the_window_title_changed</span>(<span class="params">self, window_title</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Window title changed: %s&quot;</span> % window_title)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> window_title == <span class="string">&quot;Something went wrong&quot;</span>:</span><br><span class="line">            self.button.setDisabled(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line">window = MainWindow()</span><br><span class="line">window.show()</span><br><span class="line"></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><p>首先，我们设置一个窗口标题列表——我们将使用Python内置的<code>random.choice（）</code>从这个列表中随机选择一个。我们将自定义插槽方法<code>the_window_title_changed（）</code>挂钩到窗口的<code>windowTitleChanged</code>信号。</p><p>当我们单击按钮时，窗口标题将随机更改。如果新窗口标题等于“Something went wrong”，则按钮将被禁用。</p><p class="admonition admonition-run"><span class="admonition-kind"><i class="fas fa-rocket"></i></span> <em>运行这段代码!</em> 反复单击按钮，直到标题变为“Something went wrong”，按钮将被禁用。</p><p>在这个例子中有几件事需要注意。</p><p>首先，在设置窗口标题时，并不总是发出<code>windowTitleChanged</code>信号。只有当新标题与前一个标题不同时，才会发出信号。如果您多次设置同一标题，则信号将仅在第一次发出。重要的是要仔细检查信号触发的条件，以避免在应用程序中使用它们时感到惊讶。</p><p>其次，请注意我们如何使用信号将事物联系在一起。发生的一件事——按下按钮——可以触发其他多件事依次发生。这些后续效应不需要知道是什么导致了它们，而只需要遵循简单的规则。在构建GUI应用程序时，将效果与其触发器解耦是需要理解的关键概念之一。</p><p>在本节中，我们介绍了信号和插槽。我们已经演示了一些简单的信号，以及如何使用它们在应用程序周围传递数据和状态。接下来，我们将看看Qt为您的应用程序提供的小部件，以及它们提供的信号。</p><h2 id="直接连接小部件"><a href="#直接连接小部件" class="headerlink" title="直接连接小部件"></a>直接连接小部件</h2><p>到目前为止，我们已经看到了将小部件信号连接到Python方法的示例。当小部件发出信号时，我们的Python方法会被调用并从信号中接收数据。但你并不总是需要使用Python函数来处理信号——你也可以直接将Qt小部件相互连接。</p><p>在下面的示例中，我们将 <code>QLineEdit</code>小部件和<code>QLabel</code>添加到窗口中。在窗口的<code>__init__（）</code>中，我们将行编辑<code>textChanged</code>信号连接到<code>QLabel</code>上的<code>setText（）</code>方法。现在，每当<code>QLineEdit</code>中的文本发生变化时，<code>QLabel</code>都会将该文本接收到其<code>setText（）</code>方法中：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> (</span><br><span class="line">    QApplication,</span><br><span class="line">    QLabel,</span><br><span class="line">    QLineEdit,</span><br><span class="line">    QMainWindow,</span><br><span class="line">    QVBoxLayout,</span><br><span class="line">    QWidget,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.label = QLabel()</span><br><span class="line"></span><br><span class="line">        self.<span class="built_in">input</span> = QLineEdit()</span><br><span class="line">        self.<span class="built_in">input</span>.textChanged.connect(self.label.setText)</span><br><span class="line"></span><br><span class="line">        layout = QVBoxLayout()</span><br><span class="line">        layout.addWidget(self.<span class="built_in">input</span>)</span><br><span class="line">        layout.addWidget(self.label)</span><br><span class="line"></span><br><span class="line">        container = QWidget()</span><br><span class="line">        container.setLayout(layout)</span><br><span class="line"></span><br><span class="line">        self.setCentralWidget(container)</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line">window = MainWindow()</span><br><span class="line">window.show()</span><br><span class="line"></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><p>请注意，为了将输入连接到标签，必须同时定义输入和标签。这段代码将两个小部件添加到布局中，并在窗口上进行设置。稍后我们将详细介绍布局，您现在可以忽略它。</p><p class="admonition admonition-run"><span class="admonition-kind"><i class="fas fa-rocket"></i></span> <em>运行这段代码!</em> 在上方的框中键入一些文本，您将看到它立即出现在标签上。</p><p><img src="https://cdnjson.com/images/2024/08/03/signals-direct.webp" alt="signals-direct.webp"></p><h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><p>用户与Qt应用程序的每次交互都是一个事件。有许多类型的事件，每种事件都代表不同类型的交互。Qt使用事件对象表示这些事件，这些事件对象打包了有关发生的事情的信息。这些事件被传递给发生交互的小部件上的特定事件处理程序。</p><p>通过定义自定义或扩展的事件处理程序，您可以更改小部件对这些事件的响应方式。事件处理程序的定义与任何其他方法一样，但名称特定于它们处理的事件类型。</p><p>小部件接收的主要事件之一是<code>QMouseEvent</code>。QMouseEvent事件是为小部件上的每次鼠标移动和按钮点击创建的。以下事件处理程序可用于处理鼠标事件：</p><table><thead><tr><th>事件处理程序</th><th>事件类型</th></tr></thead><tbody><tr><td><code>mouseMoveEvent()</code></td><td>鼠标移动</td></tr><tr><td><code>mousePressEvent()</code></td><td>鼠标按钮按下</td></tr><tr><td><code>mouseReleaseEvent()</code></td><td>鼠标按钮释放</td></tr><tr><td><code>mouseDoubleClickEvent()</code></td><td>检测到双击</td></tr></tbody></table><p>例如，单击小部件将导致<code>QMouseEvent</code>被发送到该小部件上的<code>mousePressEvent（）</code>事件处理程序。此处理程序可以使用事件对象来查找有关发生了什么的信息，例如触发事件的原因以及具体发生在哪里。</p><p>您可以通过子类化和重写类上的处理程序方法来拦截事件。您可以选择过滤、修改或忽略事件，通过使用<code>super（）</code>调用父类函数，将它们传递给事件的正常处理程序。这些可以添加到您的主窗口类中，如下所示。在每种情况下，<code>e</code>都会收到传入的事件：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication, QLabel, QMainWindow</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.label = QLabel(<span class="string">&quot;Click in this window&quot;</span>)</span><br><span class="line">        self.setCentralWidget(self.label)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mouseMoveEvent</span>(<span class="params">self, e</span>):</span><br><span class="line">        self.label.setText(<span class="string">&quot;mouseMoveEvent&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mousePressEvent</span>(<span class="params">self, e</span>):</span><br><span class="line">        self.label.setText(<span class="string">&quot;mousePressEvent&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mouseReleaseEvent</span>(<span class="params">self, e</span>):</span><br><span class="line">        self.label.setText(<span class="string">&quot;mouseReleaseEvent&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mouseDoubleClickEvent</span>(<span class="params">self, e</span>):</span><br><span class="line">        self.label.setText(<span class="string">&quot;mouseDoubleClickEvent&quot;</span>)</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line">window = MainWindow()</span><br><span class="line">window.show()</span><br><span class="line"></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><p class="admonition admonition-run"><span class="admonition-kind"><i class="fas fa-rocket"></i></span> <em>运行这段代码!</em> 尝试在窗口中移动和单击（并双击），然后观察事件的显示。</p><p>您会注意到，只有当您按下按钮时，鼠标移动事件才会被注册。您可以通过在窗口上调用<code>self.setMouseTracking（True）</code>来更改此设置。您可能还会注意到，按下按钮时，按下（单击）和双击事件都会触发。只有松开按钮时才会触发释放事件。通常，要注册用户的点击，您应该注意鼠标按下和释放。</p><p>在事件处理程序中，您可以访问事件对象。此对象包含有关事件的信息，可用于根据具体发生的情况做出不同的响应。接下来我们将查看鼠标事件对象。</p><h2 id="鼠标事件"><a href="#鼠标事件" class="headerlink" title="鼠标事件"></a>鼠标事件</h2><p>Qt中的所有鼠标事件都使用<code>QMouseEvent</code>对象进行跟踪，有关事件的信息可以从以下事件方法中读取：</p><table><thead><tr><th>方法</th><th>返回值</th></tr></thead><tbody><tr><td><code>.button()</code></td><td>触发此事件的特定按钮</td></tr><tr><td><code>.buttons()</code></td><td>所有鼠标按钮的状态（按位或标志）</td></tr><tr><td><code>.globalPos()</code></td><td>以 <code>QPoint</code> 形式的应用程序全局位置</td></tr><tr><td><code>.globalX()</code></td><td>应用程序全局 <em>水平</em> X 位置</td></tr><tr><td><code>.globalY()</code></td><td>应用程序全局 <em>垂直</em> Y 位置</td></tr><tr><td><code>.pos()</code></td><td>以 <code>QPoint</code> <em>整数</em> 形式的小部件相对位置</td></tr><tr><td><code>.posF()</code></td><td>以 <code>QPointF</code> <em>浮点数</em> 形式的小部件相对位置</td></tr></tbody></table><p>你可以在事件处理程序中使用这些方法来以不同方式响应不同的事件或完全忽略它们。位置方法提供全局和本地（窗口小部件相对）位置信息作为 <code>QPoint</code> 对象，而按钮使用 <code>Qt.MouseButton</code> 命名空间中的鼠标按钮类型进行报告。</p><p>例如，以下内容允许我们对窗口上的左键、右键或中键单击做出不同的响应：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> Qt</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication, QLabel, QMainWindow</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.label = QLabel(<span class="string">&quot;Click in this window&quot;</span>)</span><br><span class="line">        self.setCentralWidget(self.label)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mousePressEvent</span>(<span class="params">self, e</span>):</span><br><span class="line">        <span class="keyword">if</span> e.button() == Qt.MouseButton.LeftButton:</span><br><span class="line">            <span class="comment"># handle the left-button press in here</span></span><br><span class="line">            self.label.setText(<span class="string">&quot;mousePressEvent LEFT&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> e.button() == Qt.MouseButton.MiddleButton:</span><br><span class="line">            <span class="comment"># handle the middle-button press in here.</span></span><br><span class="line">            self.label.setText(<span class="string">&quot;mousePressEvent MIDDLE&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> e.button() == Qt.MouseButton.RightButton:</span><br><span class="line">            <span class="comment"># handle the right-button press in here.</span></span><br><span class="line">            self.label.setText(<span class="string">&quot;mousePressEvent RIGHT&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mouseReleaseEvent</span>(<span class="params">self, e</span>):</span><br><span class="line">        <span class="keyword">if</span> e.button() == Qt.MouseButton.LeftButton:</span><br><span class="line">            self.label.setText(<span class="string">&quot;mouseReleaseEvent LEFT&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> e.button() == Qt.MouseButton.MiddleButton:</span><br><span class="line">            self.label.setText(<span class="string">&quot;mouseReleaseEvent MIDDLE&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> e.button() == Qt.MouseButton.RightButton:</span><br><span class="line">            self.label.setText(<span class="string">&quot;mouseReleaseEvent RIGHT&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mouseDoubleClickEvent</span>(<span class="params">self, e</span>):</span><br><span class="line">        <span class="keyword">if</span> e.button() == Qt.MouseButton.LeftButton:</span><br><span class="line">            self.label.setText(<span class="string">&quot;mouseDoubleClickEvent LEFT&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> e.button() == Qt.MouseButton.MiddleButton:</span><br><span class="line">            self.label.setText(<span class="string">&quot;mouseDoubleClickEvent MIDDLE&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> e.button() == Qt.MouseButton.RightButton:</span><br><span class="line">            self.label.setText(<span class="string">&quot;mouseDoubleClickEvent RIGHT&quot;</span>)</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line">window = MainWindow()</span><br><span class="line">window.show()</span><br><span class="line"></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><p>按钮标识符在<code>Qt.MouseButton</code>命名空间中定义。，如下所示：</p><table><thead><tr><th>标识符</th><th>值（二进制）</th><th>表示</th></tr></thead><tbody><tr><td><code>Qt.MouseButton.NoButton</code></td><td>0 (<code>000</code>)</td><td>未按下任何按钮，或事件与按钮按下无关。</td></tr><tr><td><code>Qt.MouseButton.LeftButton</code></td><td>1 (<code>001</code>)</td><td>左键被按下</td></tr><tr><td><code>Qt.MouseButton.RightButton</code></td><td>2 (<code>010</code>)</td><td>右键被按下</td></tr><tr><td><code>Qt.MouseButton.MiddleButton</code></td><td>4 (<code>100</code>)</td><td>中键被按下</td></tr></tbody></table><p class="admonition admonition-note"><span class="admonition-kind"><i class="fas fa-sticky-note"></i></span>在左手鼠标上，左右按钮的位置是相反的，即按下最右侧的按钮将返回<code>Qt.MouseButton.LeftButton</code>。这意味着您不需要在代码中考虑鼠标方向。</p><h2 id="上下文菜单"><a href="#上下文菜单" class="headerlink" title="上下文菜单"></a>上下文菜单</h2><p>上下文菜单是小型上下文相关菜单，通常在右键单击窗口时出现。Qt支持生成这些菜单，小部件有一个特定的事件用于触发它们。在下面的示例中，我们将在<code>QMainWindow</code>中拦截<code>contextMenuEvent（）</code>。每当要显示上下文菜单时，就会触发此事件，并传递<code>QContextMenuEvent</code>类型的单值事件。</p><p>为了拦截事件，我们只需用同名的新方法覆盖对象方法。因此，在这种情况下，我们可以在<code>MainWindow</code>子类上创建一个名为<code>contextMenuEvent（）</code>的方法，它将接收此类型的所有事件：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PySide6.QtGui <span class="keyword">import</span> QAction</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QMenu</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">contextMenuEvent</span>(<span class="params">self, e</span>):</span><br><span class="line">        context = QMenu(self)</span><br><span class="line">        context.addAction(QAction(<span class="string">&quot;test 1&quot;</span>, self))</span><br><span class="line">        context.addAction(QAction(<span class="string">&quot;test 2&quot;</span>, self))</span><br><span class="line">        context.addAction(QAction(<span class="string">&quot;test 3&quot;</span>, self))</span><br><span class="line">        context.<span class="built_in">exec</span>(e.globalPos())</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line">window = MainWindow()</span><br><span class="line">window.show()</span><br><span class="line"></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><p>如果您运行以上代码并在窗口中右键单击，您将看到出现一个上下文菜单。您可以在菜单操作上按正常方式设置触发槽<code>triggered slots</code>（并重新使用为菜单和工具栏定义的操作）。</p><p class="admonition admonition-note"><span class="admonition-kind"><i class="fas fa-sticky-note"></i></span>当将初始位置传递给<code>exec（）</code>方法时，这必须相对于定义时传递的父级。在这种情况下，我们将<code>self</code>作为父级传递，因此我们可以使用全局位置。</p><p>为了完整起见，实际上有一种基于信号的方法来创建上下文菜单：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.show()</span><br><span class="line"></span><br><span class="line">        self.setContextMenuPolicy(Qt.CustomContextMenu)</span><br><span class="line">        self.customContextMenuRequested.connect(self.on_context_menu)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">on_context_menu</span>(<span class="params">self, pos</span>):</span><br><span class="line">        context = QMenu(self)</span><br><span class="line">        context.addAction(QAction(<span class="string">&quot;test 1&quot;</span>, self))</span><br><span class="line">        context.addAction(QAction(<span class="string">&quot;test 2&quot;</span>, self))</span><br><span class="line">        context.addAction(QAction(<span class="string">&quot;test 3&quot;</span>, self))</span><br><span class="line">        context.<span class="built_in">exec</span>(self.mapToGlobal(pos))</span><br></pre></td></tr></table></figure><p>这完全取决于你的选择。</p><h2 id="事件层次结构"><a href="#事件层次结构" class="headerlink" title="事件层次结构"></a>事件层次结构</h2><p>在PySide6中，每个小部件都是两个不同层次结构的一部分：Python对象层次结构和Qt布局层次结构。如何响应或忽略事件会影响UI的行为。</p><h2 id="Python继承转发"><a href="#Python继承转发" class="headerlink" title="Python继承转发"></a>Python继承转发</h2><p>通常，你可能希望拦截一个事件并对其进行处理，但仍会触发默认的事件处理行为。如果你的对象是从标准小部件继承的，那么默认情况下它可能会实现合理的行为。您可以通过使用<code>super（）</code>调用父级的实现来触发此操作。</p><p class="admonition admonition-note"><span class="admonition-kind"><i class="fas fa-sticky-note"></i></span>这是Python父类，而不是PySide的父类：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">mousePressEvent</span>(<span class="params">self, event</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Mouse pressed!&quot;</span>)</span><br><span class="line">    <span class="built_in">super</span>().mousePressEvent(event)</span><br></pre></td></tr></table></figure><p>事件将继续正常运行，但您添加了一些非干扰行为。</p><h2 id="布局转发"><a href="#布局转发" class="headerlink" title="布局转发"></a>布局转发</h2><p>当你在应用程序中添加一个小部件时，它也会从布局中获得另一个父级。通过调用<code>.parent（）</code>可以找到小部件的父级。有时您手动指定这些父级，例如<code>QMenu</code>或<code>QDialog</code>，通常是自动指定的。例如，当您将小部件添加到主窗口时，主窗口将成为小部件的父窗口。</p><p>当为用户与UI的交互创建事件时，这些事件会传递给UI中最上面的小部件。因此，如果您在窗口上有一个按钮并单击该按钮，则该按钮将首先接收事件。</p><p>如果第一个小部件无法处理该事件或选择不处理，则该事件将向上冒泡到父小部件，父小部件将被轮流处理。这种冒泡一直持续到嵌套的小部件，直到事件被处理或到达主窗口。</p><p>在您自己的事件处理程序中，您可以选择通过调用<code>accept（）</code>方法将事件标记为已处理：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CustomButton</span>(<span class="title class_ inherited__">QPushButton</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mousePressEvent</span>(<span class="params">self, e</span>):</span><br><span class="line">        e.accept()</span><br></pre></td></tr></table></figure><p>或者，您可以通过在事件对象上调用<code>ignore（）</code>将其标记为未处理。在这种情况下，事件将继续在层次结构中冒泡：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CustomButton</span>(<span class="title class_ inherited__">QPushButton</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">event</span>(<span class="params">self, e</span>):</span><br><span class="line">        e.ignore()</span><br></pre></td></tr></table></figure><p>如果你想让你的小部件对事件透明，你可以安全地忽略你以某种方式实际响应的事件。同样，你可以选择接受你没有回应的事件，以使它们沉默。</p><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span>    <b>原文信息：《PySide6 Signals, Slots & Events》</b><br />    <b>原作者：Martin Fitzpatrick</b><br />    <b>出处：<a href="https://www.pythonguis.com/tutorials/pyside6-signals-slots-events/" target="blank">https://www.pythonguis.com/tutorials/pyside6-signals-slots-events/</a></b><br />    <b>免责声明：本翻译内容仅代表翻译者的个人观点与理解，原作者对此翻译版本并未进行认可，翻译过程中可能存在误差，读者应自行核实原文内容。</b></p><style>.admonition a {    color: #EB5160;    text-decoration: none;}.admonition {    position: relative;    padding: 1rem 3rem 1rem 1rem;    background-color: #E9EBEF;    position: relative;    line-height: 1.8em;    border-radius: 5px;    border: 1px solid #D4D6DA;    margin: 2rem 0;}.admonition-kind {    opacity: 0.2;    position: absolute;    top: 0.25rem;    right: 0.25rem;    font-size: 1.5rem;}.admonition-body {    margin-right: 2rem;}p.admonition {    font-size: 1rem;    margin: 0.5rem 0;    font-family: 'Montserrat', 'Verdana', 'Geneva', 'Tahoma', sans-serif;}.admonition-note {    background-color: #FFFAED;    color: #b18f12;    border-color: #b18f12;}.admonition-tip {    background-color: #ECF1F6;    color: #376F9F;    border-color: #376F9F;}.admonition-warning {    background-color: #FBE9E7;    color: #FE4A49;    border-color: #FE4A49;}.admonition-ok {    background-color: #EEF7EF;    color: #4CAF50;    border-color: #4CAF50;}.admonition-challenge {    color: #3F51B5;}article img {    display: block;    float: none;    clear: both;    max-width: 80%;    height: auto;    margin: 3rem auto;}article img+em {    font-family: 'Poppins', 'Century Gothic', 'AppleGothic', sans-serif;    display: block;    width: 80%;    font-style: normal;    font-size: 0.8rem;    margin: -2.5rem auto 3rem auto;    text-align: center;    color: #888;}#title-style{        margin: 0 auto;        text-align: center;    }p{    -webkit-text-size-adjust: 100%;    color: #111;    letter-spacing: normal;    word-spacing: normal;    text-rendering: auto;    font-size: 1rem;    line-height: 1.8;    font-weight: 400;}</style>]]></content>
      
      
      
        <tags>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【PySide6】使用PySide6创建您的第一个应用程序</title>
      <link href="/posts/b53cf846.html"/>
      <url>/posts/b53cf846.html</url>
      
        <content type="html"><![CDATA[<div id="title-style">    <h1>【PySide6】使用PySide6创建您的第一个应用程序</h1>    <p>使用Python和Qt创建一个简单的“Hello World！”应用程序</p></div><p>在本教程中，我们将学习如何使用 PySide 来使用 Python 创建桌面应用程序。首先，我们将创建一系列简单的窗口，以确保 PySide 正常工作，并介绍一些基本概念。然后，我们将简要了解事件循环及其与 Python 中 GUI 编程的关系。最后，我们将介绍 Qt 的 QMainWindow，它提供了一些常用的界面元素，如工具栏和菜单。这些将在后续的教程中更详细地探讨。</p><h1 id="创建一个应用程序"><a href="#创建一个应用程序" class="headerlink" title="创建一个应用程序"></a>创建一个应用程序</h1><p>让我们创建我们的第一个应用程序吧！首先创建一个新的 Python 文件 —— 你可以随意命名（例如 app.py），并将其保存在可访问的地方。我们将在这个文件中编写我们的简单应用程序。</p><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span> 随着我们的进展，我们将在这个文件中进行编辑，您可能想要回到代码的早期版本，因此请记得定期备份。</p><p>以下是应用程序的源代码。请逐字输入，并小心不要出错。如果出现错误，Python 将会提示您出了什么问题。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication, QWidget</span><br><span class="line"></span><br><span class="line"><span class="comment"># 仅在需要访问命令行参数时使用</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 每个应用程序只需要一个 QApplication 实例。</span></span><br><span class="line"><span class="comment"># 传入 sys.argv 可以允许应用程序使用命令行参数。</span></span><br><span class="line"><span class="comment"># 如果你确定不会使用命令行参数，也可以使用 QApplication([])。</span></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个 Qt 窗口小部件，它将成为我们的窗口。</span></span><br><span class="line">window = QWidget()</span><br><span class="line">window.show()  <span class="comment"># 重要!!!!! 窗口默认是隐藏的。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动事件循环。</span></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在你退出并且事件循环停止之前，你的应用程序不会到达这里。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p class="admonition admonition-run"><span class="admonition-kind"><i class="fas fa-rocket"></i></span> <em>运行这段代码!</em> 您现在将会看到您的窗口。Qt 自动创建了一个带有普通窗口装饰的窗口，您可以像任何窗口一样拖动它并调整其大小。</p><p>您所看到的将取决于您在哪个平台上运行此示例。下面的图像显示了在 Windows、macOS 和 Linux（Ubuntu）上显示的窗口。</p><p><img alt="Our window, as seen on Windows, macOS and Linux." height="331" loading="lazy" src="https://cdnjson.com/images/2024/02/21/window9ee2ec21014ee61d.png"width="1154"></p><h1 id="让我们逐步解释代码"><a href="#让我们逐步解释代码" class="headerlink" title="让我们逐步解释代码"></a>让我们逐步解释代码</h1><p>首先，我们导入了应用程序中需要的 PySide 类。我们从<code>QtWidgets</code>模块中导入了<code>QApplication</code>类，它是应用程序的处理程序，以及 QWidget 类，它是一个基本的空 GUI 小部件。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication, QWidget</span><br></pre></td></tr></table></figure><p>Qt 的主要模块包括 <code>QtWidgets</code>、<code>QtGui</code> 和 <code>QtCore</code>。</p><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span> 你可以使用 from &#60;module&#62; import * 这种方式，但是在 Python 中这种全局导入通常是不被推荐的，所以我们在这里会避免使用它。</p><p>接下来，我们创建一个 <code>QApplication</code> 的实例，将 <code>sys.argv</code> 作为参数传入，其中 <code>sys.argv</code> 是一个 Python 列表，包含了传递给应用程序的命令行参数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app = QApplication(sys.argv)</span><br></pre></td></tr></table></figure><p>如果你知道你不会使用命令行参数来控制 Qt，你可以传入一个空列表，例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app = QApplication([])</span><br></pre></td></tr></table></figure><p>接下来，我们使用变量名 <code>window</code> 创建一个 <code>QWidget</code> 的实例。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window = QWidget()</span><br><span class="line">window.show()</span><br></pre></td></tr></table></figure><p>在 Qt 中，所有顶级小部件都是窗口，也就是说，它们没有父级，并且不嵌套在另一个小部件或布局中。这意味着你可以在任何你喜欢的小部件上创建一个窗口。</p><p class="admonition admonition-warning"><span class="admonition-kind"><i class="fas fa-exclamation-circle"></i></span>小部件如果没有父级，默认情况下是不可见的。因此，在创建窗口对象后，我们必须始终调用 .show() 方法使其可见。你可以移除 .show() 并运行应用程序，但是你将无法退出它！</p><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span>窗口是什么？ - 承载应用程序的用户界面 - 每个应用程序至少需要一个窗口（但可以有多个） - 当最后一个窗口关闭时，默认情况下应用程序会退出</p><p>最后我们调用<code>app.exec()</code>来启动事件循环。</p><h1 id="什么是事件循环？"><a href="#什么是事件循环？" class="headerlink" title="什么是事件循环？"></a>什么是事件循环？</h1><p>在将窗口显示在屏幕上之前，有几个关键概念需要介绍一下，这些概念涉及到 Qt 世界中应用程序的组织方式。如果你已经熟悉事件循环，可以安全地跳过到下一节。</p><p>每个 Qt 应用程序的核心是 <code>QApplication</code> 类。每个应用程序都需要一个 —— 而且只能有一个 —— <code>QApplication</code> 对象来运行。这个对象承载着你的应用程序的事件循环 —— 控制所有用户与 GUI 的交互的核心循环。</p><p><img alt="Our window, as seen on Windows, macOS and Linux." height="331" loading="lazy" src="https://cdnjson.com/images/2024/02/21/eventloopebfe28ed003c9a69.png"width="1154"></p><p>与你的应用程序的每次交互 —— 无论是按键、鼠标点击还是鼠标移动 —— 都会生成一个事件，然后被放置在事件队列中。在事件循环中，队列在每次迭代时都会被检查，如果发现等待处理的事件，就会将事件和控制权传递给特定的事件处理程序。事件处理程序处理完事件后，将控制权再次传递回事件循环，等待更多的事件。每个应用程序只有一个正在运行的事件循环。</p><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span>QApplication 类 - QApplication 承载着 Qt 事件循环 - 需要一个 QApplication 实例 - 你的应用程序在事件循环中等待，直到有操作发生 - 在任何时候只有一个事件循环</p><p>下划线是因为在 Python 2.7 中 <code>exec</code> 是一个保留字。PySide 处理这个问题的方法是在 Qt 库中使用的名称后添加下划线。例如，你还会看到小部件上的 <code>.print_()</code> 方法。</p><h1 id="QMainWindow"><a href="#QMainWindow" class="headerlink" title="QMainWindow"></a>QMainWindow</h1><p>正如我们在上一部分发现的那样，在 Qt 中任何小部件都可以成为窗口。例如，如果你将 <code>QtWidgets</code> 替换为 <code>QPushButton</code>。在下面的示例中，你将得到一个带有单个可点击按钮的窗口。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication, QPushButton</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line">window = QPushButton(<span class="string">&quot;Push Me&quot;</span>)</span><br><span class="line">window.show()</span><br><span class="line"></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><p>这很好，但实际上并不是非常有用 —— 很少有需要只包含单个控件的用户界面！但是，正如我们稍后将发现的那样，使用布局将小部件嵌套在其他小部件中的能力意味着你可以在一个空的 <code>QWidget</code> 内构建复杂的用户界面。</p><p>但是，Qt 已经为你提供了解决方案 —— <code>QMainWindow</code>。这是一个预制的小部件，提供了许多标准窗口功能，你在应用程序中会用到，包括工具栏、菜单、状态栏、可停靠的小部件等等。我们稍后会看到这些高级特性，但现在，我们将在我们的应用程序中添加一个简单的空 <code>QMainWindow</code>。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow</span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line">window = QMainWindow()</span><br><span class="line">window.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动事件循环.</span></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><p class="admonition admonition-run"><span class="admonition-kind"><i class="fas fa-rocket"></i></span> <em>运行这段代码!</em>你将会看到你的“主窗口”，但事实上它和之前的看起来没有区别</p><p>所以我们的 <code>QMainWindow</code> 目前并不是很有趣。我们可以通过添加一些内容来修复这个问题。如果你想创建一个自定义窗口，最好的方法是子类化 <code>QMainWindow</code>，然后在 <code>__init__</code> 块中包含窗口的设置。这样可以使窗口的行为自包含。我们可以添加我们自己的 <code>QMainWindow</code> 子类 —— 把它称为 <code>MainWindow</code>，以保持简单。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> QSize, Qt</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QPushButton</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 子类QMainWindow可自定义应用程序的主窗口</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        button = QPushButton(<span class="string">&quot;Press Me!&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 设置窗口的中心部件。</span></span><br><span class="line">        self.setCentralWidget(button)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line">window = MainWindow()</span><br><span class="line">window.show()</span><br><span class="line"></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><p>在这个演示中，我们使用了一个 <code>QPushButton</code>。核心的 Qt 小部件总是从 <code>QtWidgets</code> 命名空间中导入，就像 <code>QMainWindow</code> 和 <code>QApplication</code> 类一样。当使用 <code>QMainWindow</code> 时，我们使用 <code>.setCentralWidget</code> 方法将一个小部件（这里是一个 <code>QPushButton</code>）放置在 <code>QMainWindow</code> 中 —— 默认情况下，它占据整个窗口。我们将在布局教程中讨论如何向窗口添加多个小部件。</p><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span>当你子类化一个Qt类时，你必须始终调用super __init__函数，以便让Qt设置对象。</p><p>在我们的<code>__init__</code>块中，我们首先使用<code>.setWindowTitle()</code>来更改主窗口的标题。然后我们将第一个小部件——<code>QPushButton</code>——添加到窗口的中间。这是 Qt 中可用的基本小部件之一。在创建按钮时，您可以传递您想要按钮显示的文本。</p><p>最后，我们在窗口上调用<code>.setCentralWidget()</code>。这是一个特定于<code>QMainWindow</code>的函数，允许您设置放在窗口中间的小部件。</p><p class="admonition admonition-run"><span class="admonition-kind"><i class="fas fa-rocket"></i></span>运行它！现在您将再次看到您的窗口，但这次中间有QPushButton小部件。按下按钮将不会产生任何效果，我们接下来会解决这个问题。</p><p><img alt="Our window, as seen on Windows, macOS and Linux." height="331" loading="lazy" src="https://cdnjson.com/images/2024/02/21/window-buttonc436a03d1370552a.png"width="1154"></p><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span> 我们将很快详细介绍更多小部件，但如果您不耐烦，并希望提前尝试，您可以查看<a href="http://doc.qt.io/qt-5/widget-classes.html#basic-widget-classes" target="blank">QWidget文档</a>。尝试向您的窗口添加不同的小部件！</p><h1 id="调整窗口和小部件的大小"><a href="#调整窗口和小部件的大小" class="headerlink" title="调整窗口和小部件的大小"></a>调整窗口和小部件的大小</h1><p>窗口当前可以自由调整大小——如果您用鼠标抓住任何角落，可以拖动并调整到任意大小。虽然让用户调整应用程序的大小是很好的，但有时您可能希望对最小或最大大小设置限制，或者锁定窗口为固定大小。</p><p>在 Qt 中，使用<code>QSize</code>对象定义大小。它按照宽度和高度的顺序接收参数。例如，以下代码将创建一个固定大小为 400x300 像素的窗口。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> QSize, Qt</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication, QMainWindow, QPushButton</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Subclass QMainWindow to customize your application&#x27;s main window</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;My App&quot;</span>)</span><br><span class="line"></span><br><span class="line">        button = QPushButton(<span class="string">&quot;Press Me!&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.setFixedSize(QSize(<span class="number">400</span>, <span class="number">300</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Set the central widget of the Window.</span></span><br><span class="line">        self.setCentralWidget(button)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app = QApplication(sys.argv)</span><br><span class="line"></span><br><span class="line">window = MainWindow()</span><br><span class="line">window.show()</span><br><span class="line"></span><br><span class="line">app.<span class="built_in">exec</span>()</span><br></pre></td></tr></table></figure><p class="admonition admonition-run"><span class="admonition-kind"><i class="fas fa-rocket"></i></span> 运行它！您将看到一个固定大小的窗口——尝试调整此窗口的大小，你会发现无法调整。</p><p><img alt="Our window, as seen on Windows, macOS and Linux." height="331" loading="lazy" src="https://cdnjson.com/images/2024/02/21/window-fixed20cd661f173dcbae.png"width="1154"></p><p>在 Windows 和 Linux 上，右上角控件将被禁用。在 macOS 上，您可以最大化应用程序以填充屏幕，但中央小部件不会调整大小。</p><p>除了使用<code>.setFixedSize()</code>外，您还可以调用<code>.setMinimumSize()</code>和.<code>setMaximumSize()</code>分别设置最小和最大尺寸。自己尝试一下吧！</p><p class="admonition admonition-note"><span class="admonition-kind"><i class="fas fa-sticky-note"></i></span>你可以在任何小部件上使用这些调整大小的函数</p><p>在本节中，我们介绍了 QApplication 类、QMainWindow 类、事件循环，并尝试向窗口添加了一个简单的小部件。在下一节中，我们将探讨 Qt 提供的用于小部件和窗口相互通信以及与您自己代码通信的机制。</p><p class="admonition admonition-tip"><span class="admonition-kind"><i class="fas fa-lightbulb"></i></span>    <b>原文信息：《Creating your first app with PySide6》</b><br />    <b>原作者：Martin Fitzpatrick</b><br />    <b>出处：<a href="https://www.pythonguis.com/tutorials/pyside6-creating-your-first-window/" target="blank">https://www.pythonguis.com/tutorials/pyside6-creating-your-first-window/</a></b><br />    <b>免责声明：本翻译内容仅代表翻译者的个人观点与理解，原作者对此翻译版本并未进行认可，翻译过程中可能存在误差，读者应自行核实原文内容。</b></p><style>.admonition a {    color: #EB5160;    text-decoration: none;}.admonition {    position: relative;    padding: 1rem 3rem 1rem 1rem;    background-color: #E9EBEF;    position: relative;    line-height: 1.8em;    border-radius: 5px;    border: 1px solid #D4D6DA;    margin: 2rem 0;}.admonition-kind {    opacity: 0.2;    position: absolute;    top: 0.25rem;    right: 0.25rem;    font-size: 1.5rem;}.admonition-body {    margin-right: 2rem;}p.admonition {    font-size: 1rem;    margin: 0.5rem 0;    font-family: 'Montserrat', 'Verdana', 'Geneva', 'Tahoma', sans-serif;}.admonition-note {    background-color: #FFFAED;    color: #b18f12;    border-color: #b18f12;}.admonition-tip {    background-color: #ECF1F6;    color: #376F9F;    border-color: #376F9F;}.admonition-warning {    background-color: #FBE9E7;    color: #FE4A49;    border-color: #FE4A49;}.admonition-ok {    background-color: #EEF7EF;    color: #4CAF50;    border-color: #4CAF50;}.admonition-challenge {    color: #3F51B5;}article img {    display: block;    float: none;    clear: both;    max-width: 80%;    height: auto;    margin: 3rem auto;}article img+em {    font-family: 'Poppins', 'Century Gothic', 'AppleGothic', sans-serif;    display: block;    width: 80%;    font-style: normal;    font-size: 0.8rem;    margin: -2.5rem auto 3rem auto;    text-align: center;    color: #888;}#title-style{        margin: 0 auto;        text-align: center;    }p{    -webkit-text-size-adjust: 100%;    color: #111;    letter-spacing: normal;    word-spacing: normal;    text-rendering: auto;    font-size: 1rem;    line-height: 1.8;    font-weight: 400;}</style>]]></content>
      
      
      
        <tags>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>noip-duc</title>
      <link href="/posts/90e146ff.html"/>
      <url>/posts/90e146ff.html</url>
      
        <content type="html"><![CDATA[<h1 id="noip-duc"><a href="#noip-duc" class="headerlink" title="noip-duc"></a>noip-duc</h1><p>一个noip.com的动态更新客户端（DUC）的python脚本，适用于部分无法安装官方DUC的环境。同时支持IPv4和IPv6地址</p><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>你需要在 <a href="https://my.noip.com/dynamic-dns">https://my.noip.com/dynamic-dns</a> 创建一个AAAA记录的hostname，才能实现这个hostname的ipv4与ipv6同时更新。否则noip.com只会更新ipv4地址。</p><h2 id="V2"><a href="#V2" class="headerlink" title="V2"></a>V2</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">NoIP DDNS 自动更新客户端</span></span><br><span class="line"><span class="string">创建日期: 2024-01-22</span></span><br><span class="line"><span class="string">更新日期: 2025-05-23</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Optional</span>, <span class="type">Tuple</span>, <span class="type">List</span>, <span class="type">Union</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> requests.exceptions <span class="keyword">import</span> ConnectionError, Timeout, RequestException</span><br><span class="line"></span><br><span class="line">logging.basicConfig(</span><br><span class="line">    level=logging.INFO,</span><br><span class="line">    <span class="built_in">format</span>=<span class="string">&#x27;%(asctime)s - %(levelname)s - %(message)s&#x27;</span>,</span><br><span class="line">    handlers=[</span><br><span class="line">        logging.StreamHandler(),</span><br><span class="line">        logging.FileHandler(<span class="string">&#x27;noip_ddns_updater.log&#x27;</span>)</span><br><span class="line">    ]</span><br><span class="line">)</span><br><span class="line">logger = logging.getLogger(<span class="string">&#x27;noip_ddns_updater&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置信息</span></span><br><span class="line">CONFIG = &#123;</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span>: <span class="string">&#x27;your Enail&#x27;</span>,  <span class="comment"># NoIP 账户邮箱</span></span><br><span class="line">    <span class="string">&#x27;password&#x27;</span>: <span class="string">&#x27;your password&#x27;</span>,  <span class="comment"># NoIP 账户密码</span></span><br><span class="line">    <span class="string">&#x27;hostname&#x27;</span>: <span class="string">&#x27;your noip.com domain&#x27;</span>,  <span class="comment"># DDNS 主机名</span></span><br><span class="line">    <span class="string">&#x27;time_interval&#x27;</span>: <span class="number">30</span>,  <span class="comment"># 检查时间间隔(分钟)</span></span><br><span class="line">    <span class="string">&#x27;user_agent&#x27;</span>: <span class="string">&#x27;no-ip shell script/1.0 mail@mail.com&#x27;</span>,  <span class="comment"># 用户代理</span></span><br><span class="line">    <span class="string">&#x27;connection_timeout&#x27;</span>: <span class="number">10</span>,  <span class="comment"># 连接超时时间(秒)</span></span><br><span class="line">    <span class="string">&#x27;retry_interval&#x27;</span>: <span class="number">10</span>,  <span class="comment"># 重试间隔(分钟)</span></span><br><span class="line">    <span class="string">&#x27;max_retries&#x27;</span>: <span class="number">3</span>  <span class="comment"># 最大重试次数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># API 和探针地址</span></span><br><span class="line">API_ENDPOINTS = &#123;</span><br><span class="line">    <span class="string">&#x27;noip_update&#x27;</span>: <span class="string">&#x27;https://dynupdate.no-ip.com/nic/update&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;ipv4_probes&#x27;</span>: [</span><br><span class="line">        <span class="string">&#x27;https://ipv4.icanhazip.com/&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;https://4.ipw.cn/&#x27;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&#x27;ipv6_probes&#x27;</span>: [</span><br><span class="line">        <span class="string">&#x27;https://ipv6.icanhazip.com/&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;https://6.ipw.cn/&#x27;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ERROR_STATUSES = [<span class="string">&#x27;nohost&#x27;</span>, <span class="string">&#x27;badauth&#x27;</span>, <span class="string">&#x27;badagent&#x27;</span>, <span class="string">&#x27;!donator&#x27;</span>, <span class="string">&#x27;abuse&#x27;</span>, <span class="string">&#x27;911&#x27;</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_ip_address</span>() -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    获取当前的 IP 地址（IPv4 和/或 IPv6）</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    返回:</span></span><br><span class="line"><span class="string">        str:  IP 地址字符串</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    ip_v4 = ip_v6 = <span class="literal">None</span></span><br><span class="line">    np.random.seed(<span class="built_in">int</span>(time.time()) % <span class="number">10000</span>) </span><br><span class="line">    ipv4_probe = API_ENDPOINTS[<span class="string">&#x27;ipv4_probes&#x27;</span>][np.random.randint(<span class="number">0</span>, <span class="built_in">len</span>(API_ENDPOINTS[<span class="string">&#x27;ipv4_probes&#x27;</span>]))]</span><br><span class="line">    ipv6_probe = API_ENDPOINTS[<span class="string">&#x27;ipv6_probes&#x27;</span>][np.random.randint(<span class="number">0</span>, <span class="built_in">len</span>(API_ENDPOINTS[<span class="string">&#x27;ipv6_probes&#x27;</span>]))]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        response = requests.get(ipv4_probe, timeout=CONFIG[<span class="string">&#x27;connection_timeout&#x27;</span>])</span><br><span class="line">        <span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">            ip_v4 = response.text.strip()</span><br><span class="line">            logger.debug(<span class="string">f&quot;获取到 IPv4 地址: <span class="subst">&#123;ip_v4&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> ConnectionError:</span><br><span class="line">        logger.warning(<span class="string">&quot;IPv4 连接失败&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> Timeout:</span><br><span class="line">        logger.warning(<span class="string">&quot;IPv4 请求超时&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> RequestException <span class="keyword">as</span> e:</span><br><span class="line">        logger.error(<span class="string">f&quot;IPv4 请求异常: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        response = requests.get(ipv6_probe, timeout=CONFIG[<span class="string">&#x27;connection_timeout&#x27;</span>])</span><br><span class="line">        <span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">            ip_v6 = response.text.strip()</span><br><span class="line">            logger.debug(<span class="string">f&quot;获取到 IPv6 地址: <span class="subst">&#123;ip_v6&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> ConnectionError:</span><br><span class="line">        logger.warning(<span class="string">&quot;IPv6 连接失败&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> Timeout:</span><br><span class="line">        logger.warning(<span class="string">&quot;IPv6 请求超时&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> RequestException <span class="keyword">as</span> e:</span><br><span class="line">        logger.error(<span class="string">f&quot;IPv6 请求异常: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    ip_addresses = <span class="built_in">list</span>(<span class="built_in">filter</span>(<span class="literal">None</span>, [ip_v4, ip_v6]))</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> ip_addresses:</span><br><span class="line">        logger.error(<span class="string">&quot;无法获取任何 IP 地址&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;,&quot;</span>.join(ip_addresses)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">update_ip_address</span>(<span class="params">ip_address: <span class="built_in">str</span>, retry_count: <span class="built_in">int</span> = <span class="number">0</span></span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    更新 NoIP DDNS 的 IP 地址</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    参数:</span></span><br><span class="line"><span class="string">        ip_address (str): 要更新的 IP 地址</span></span><br><span class="line"><span class="string">        retry_count (int): 当前重试次数</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">    返回:</span></span><br><span class="line"><span class="string">        bool: 更新是否成功</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> retry_count &gt;= CONFIG[<span class="string">&#x27;max_retries&#x27;</span>]:</span><br><span class="line">        logger.error(<span class="string">f&quot;达到最大重试次数 <span class="subst">&#123;CONFIG[<span class="string">&#x27;max_retries&#x27;</span>]&#125;</span>，放弃更新&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> ip_address:</span><br><span class="line">        logger.error(<span class="string">&quot;IP 地址为空，无法更新&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    auth_string = <span class="string">f&quot;<span class="subst">&#123;CONFIG[<span class="string">&#x27;username&#x27;</span>]&#125;</span>:<span class="subst">&#123;CONFIG[<span class="string">&#x27;password&#x27;</span>]&#125;</span>&quot;</span></span><br><span class="line">    base64_auth = base64.b64encode(auth_string.encode()).decode()</span><br><span class="line">    </span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">f&quot;Basic <span class="subst">&#123;base64_auth&#125;</span>&quot;</span>,</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: CONFIG[<span class="string">&#x27;user_agent&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    update_url = <span class="string">f&quot;<span class="subst">&#123;API_ENDPOINTS[<span class="string">&#x27;noip_update&#x27;</span>]&#125;</span>?hostname=<span class="subst">&#123;CONFIG[<span class="string">&#x27;hostname&#x27;</span>]&#125;</span>&amp;myip=<span class="subst">&#123;ip_address&#125;</span>&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        logger.info(<span class="string">f&quot;正在更新 DDNS 记录为: <span class="subst">&#123;ip_address&#125;</span>&quot;</span>)</span><br><span class="line">        response = requests.get(update_url, headers=headers, timeout=CONFIG[<span class="string">&#x27;connection_timeout&#x27;</span>])</span><br><span class="line">        result = response.text.strip()</span><br><span class="line">        <span class="keyword">if</span> result <span class="keyword">in</span> ERROR_STATUSES:</span><br><span class="line">            <span class="keyword">if</span> result == <span class="string">&#x27;911&#x27;</span>:</span><br><span class="line">                logger.warning(<span class="string">&quot;NoIP 服务器暂时不可用 (911)，30 分钟后重试&quot;</span>)</span><br><span class="line">                time.sleep(<span class="number">30</span> * <span class="number">60</span>)</span><br><span class="line">                <span class="keyword">return</span> update_ip_address(ip_address, retry_count + <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                logger.error(<span class="string">f&quot;更新失败: <span class="subst">&#123;result&#125;</span>&quot;</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            logger.info(<span class="string">f&quot;更新成功: <span class="subst">&#123;result&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            </span><br><span class="line">    <span class="keyword">except</span> ConnectionError:</span><br><span class="line">        logger.error(<span class="string">&quot;与 NoIP 服务器连接失败&quot;</span>)</span><br><span class="line">        time.sleep(CONFIG[<span class="string">&#x27;retry_interval&#x27;</span>] * <span class="number">60</span>)</span><br><span class="line">        <span class="keyword">return</span> update_ip_address(ip_address, retry_count + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">except</span> Timeout:</span><br><span class="line">        logger.error(<span class="string">&quot;连接 NoIP 服务器超时&quot;</span>)</span><br><span class="line">        time.sleep(CONFIG[<span class="string">&#x27;retry_interval&#x27;</span>] * <span class="number">60</span>)</span><br><span class="line">        <span class="keyword">return</span> update_ip_address(ip_address, retry_count + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        logger.error(<span class="string">f&quot;更新过程中发生未知异常: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    logger.info(<span class="string">&quot;NoIP DDNS 更新客户端已启动&quot;</span>)</span><br><span class="line">    current_ip = <span class="string">&quot;&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                new_ip = get_ip_address()</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> new_ip:</span><br><span class="line">                    logger.warning(<span class="string">&quot;无法获取 IP 地址，将在下次检查时重试&quot;</span>)</span><br><span class="line">                    time.sleep(CONFIG[<span class="string">&#x27;time_interval&#x27;</span>] * <span class="number">60</span>)</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                    </span><br><span class="line">                <span class="keyword">if</span> current_ip != new_ip:</span><br><span class="line">                    logger.info(<span class="string">f&quot;检测到 IP 变化: <span class="subst">&#123;current_ip&#125;</span> -&gt; <span class="subst">&#123;new_ip&#125;</span>&quot;</span>)</span><br><span class="line">                    current_ip = new_ip</span><br><span class="line">                    result = update_ip_address(new_ip)</span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> result:</span><br><span class="line">                        logger.error(<span class="string">&quot;更新失败，程序将退出&quot;</span>)</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    logger.info(<span class="string">&quot;IP 地址未发生变化，无需更新&quot;</span>)</span><br><span class="line">                    </span><br><span class="line">                logger.info(<span class="string">f&quot;等待 <span class="subst">&#123;CONFIG[<span class="string">&#x27;time_interval&#x27;</span>]&#125;</span> 分钟后再次检查&quot;</span>)</span><br><span class="line">                time.sleep(CONFIG[<span class="string">&#x27;time_interval&#x27;</span>] * <span class="number">60</span>)</span><br><span class="line">                </span><br><span class="line">            <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">                logger.info(<span class="string">&quot;接收到中断信号，程序将退出&quot;</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">                logger.error(<span class="string">f&quot;发生未处理的异常: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line">                time.sleep(CONFIG[<span class="string">&#x27;retry_interval&#x27;</span>] * <span class="number">60</span>)</span><br><span class="line">    <span class="keyword">except</span> KeyboardInterrupt:</span><br><span class="line">        logger.info(<span class="string">&quot;程序被用户中断&quot;</span>)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        logger.info(<span class="string">&quot;NoIP DDNS 更新客户端已停止&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="V1"><a href="#V1" class="headerlink" title="V1"></a>V1</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="comment"># 20240122</span></span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">username = <span class="string">&#x27;your Enail&#x27;</span></span><br><span class="line">password = <span class="string">&#x27;your password&#x27;</span></span><br><span class="line">time_interval = <span class="number">30</span>  <span class="comment"># 时间间隔(分钟)</span></span><br><span class="line">hostname = <span class="string">&#x27;your noip.com domain&#x27;</span>  <span class="comment"># DDNS主机名</span></span><br><span class="line">user_agent = <span class="string">&#x27;no-ip shell script/1.0 mail@mail.com&#x27;</span></span><br><span class="line">noip_host = <span class="string">&#x27;https://dynupdate.no-ip.com/nic/update?&#x27;</span>  <span class="comment"># noip接口地址</span></span><br><span class="line">icanhaz_probe_v4 = <span class="string">&#x27;https://ipv4.icanhazip.com/&#x27;</span>  <span class="comment"># ipv4探针地址</span></span><br><span class="line">icanhaz_probe_v6 = <span class="string">&#x27;https://ipv6.icanhazip.com/&#x27;</span>  <span class="comment"># ipv6探针地址</span></span><br><span class="line">ipw_probe_v4 = <span class="string">&#x27;https://4.ipw.cn/&#x27;</span>  <span class="comment"># ipv4探针地址</span></span><br><span class="line">ipw_probe_v6 = <span class="string">&#x27;https://6.ipw.cn/&#x27;</span>  <span class="comment"># ipv6探针地址</span></span><br><span class="line">np.random.seed(<span class="number">2024</span>)  <span class="comment"># 随机数种子</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getIP</span>():</span><br><span class="line">    ip_v4 = ip_v6 = <span class="literal">None</span></span><br><span class="line">    probes = [(icanhaz_probe_v4, ipw_probe_v6), (ipw_probe_v4, icanhaz_probe_v6)]</span><br><span class="line">    probe_v4, probe_v6 = probes[np.random.randint(<span class="number">0</span>, <span class="number">2</span>)]</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        ip_v4 = requests.get(probe_v4).text</span><br><span class="line">    <span class="keyword">except</span> requests.exceptions.ConnectionError:</span><br><span class="line">        ip_v4 = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">except</span> requests.exceptions.URLRequired:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;ip探针地址设置错误&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        ip_v6 = requests.get(probe_v6).text</span><br><span class="line">    <span class="keyword">except</span> requests.exceptions.ConnectionError:</span><br><span class="line">        ip_v6 = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">except</span> requests.exceptions.URLRequired:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;ip探针地址设置错误&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;,&#x27;</span>.join(<span class="built_in">filter</span>(<span class="literal">None</span>, [ip_v4, ip_v6])).replace(<span class="string">&quot;\n&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">updateIP</span>(<span class="params">my_ip</span>):</span><br><span class="line">    base64_encoded_auth_string = base64.b64encode(<span class="string">f&quot;<span class="subst">&#123;username&#125;</span>:<span class="subst">&#123;password&#125;</span>&quot;</span>.encode()).decode()</span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;Authorization&#x27;</span>: <span class="string">f&quot;Basic <span class="subst">&#123;base64_encoded_auth_string&#125;</span>&quot;</span>,</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: user_agent</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        res = requests.get(noip_host + <span class="string">&#x27;hostname=&#x27;</span> + hostname + <span class="string">&#x27;&amp;myip=&#x27;</span> + my_ip, headers=headers)</span><br><span class="line">        error_status = [<span class="string">&#x27;nohost&#x27;</span>, <span class="string">&#x27;badauth&#x27;</span>, <span class="string">&#x27;badagent&#x27;</span>, <span class="string">&#x27;!donator&#x27;</span>, <span class="string">&#x27;abuse&#x27;</span>]</span><br><span class="line">        <span class="keyword">if</span> res.text <span class="keyword">in</span> error_status:</span><br><span class="line">            <span class="built_in">print</span>(res.text)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">elif</span> res.text == <span class="string">&#x27;911&#x27;</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;noip 911,30分钟后重试&#x27;</span>)</span><br><span class="line">            time.sleep(<span class="number">1801</span>)</span><br><span class="line">            <span class="keyword">return</span> updateIP(my_ip)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(res.text)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">except</span> requests.exceptions.ConnectionError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;与noip连接失败&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">600</span>)</span><br><span class="line">        <span class="keyword">return</span> updateIP(my_ip)</span><br><span class="line">    <span class="keyword">except</span> requests.exceptions.Timeout:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;连接超时&#x27;</span>)</span><br><span class="line">        time.sleep(<span class="number">600</span>)</span><br><span class="line">        <span class="keyword">return</span> updateIP(my_ip)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;未知异常<span class="subst">&#123;e&#125;</span>&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    current_ip = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            new_ip = getIP()</span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;获取ip失败<span class="subst">&#123;e&#125;</span>&#x27;</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> current_ip != new_ip:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&#x27;新ip:<span class="subst">&#123;new_ip&#125;</span>, 正在更新ddns&#x27;</span>)</span><br><span class="line">            current_ip = new_ip</span><br><span class="line">            result = updateIP(new_ip)</span><br><span class="line">            <span class="keyword">if</span> result <span class="keyword">is</span> <span class="literal">False</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;ip未发生变化&#x27;</span>)</span><br><span class="line">        time.sleep(time_interval*<span class="number">60</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 资源分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>《Hello算法》</title>
      <link href="/posts/2c79ca7e.html"/>
      <url>/posts/2c79ca7e.html</url>
      
        <content type="html"><![CDATA[<h1 id="《Hello算法》"><a href="#《Hello算法》" class="headerlink" title="《Hello算法》"></a>《Hello算法》</h1><p>《Hello 算法》是一本开源免费、新手友好的数据结构与算法入门书。由力扣上剑指offer题解大神k神编写。</p><ul><li>全书采用动画图解，内容清晰易懂、学习曲线平滑，引导初学者探索数据结构与算法的知识地图。</li><li>源代码可一键运行，帮助读者在练习中提升编程技能，了解算法工作原理和数据结构底层实现。</li><li>鼓励读者互助学习，提问与评论通常可在两日内得到回复。</li></ul><p>前往代码仓 &gt; <a href="https://github.com/krahets/hello-algo">https://github.com/krahets/hello-algo</a></p><p>前往网页版 &gt; <a href="https://www.hello-algo.com/">https://www.hello-algo.com</a></p><p>前往下载 PDF &gt; <a href="https://github.com/krahets/hello-algo/releases">https://github.com/krahets/hello-algo/releases</a></p><h1 id="推荐语"><a href="#推荐语" class="headerlink" title="推荐语"></a>推荐语</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">“一本通俗易懂的数据结构与算法入门书，引导读者手脑并用地学习，强烈推荐算法初学者阅读。”</span><br><span class="line"></span><br><span class="line">—— 邓俊辉，清华大学计算机系教授</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">“如果我当年学数据结构与算法的时候有《Hello 算法》，学起来应该会简单 10 倍！”</span><br><span class="line"></span><br><span class="line">—— 李沐，亚马逊资深首席科学家</span><br></pre></td></tr></table></figure><hr><p>内容摘自：<br><a href="https://github.com/krahets/hello-algo/blob/main/README.md">https://github.com/krahets/hello-algo/blob/main/README.md</a></p><p><a href="https://www.bilibili.com/read/cv26457908/?spm_id_from=333.999.0.0">https://www.bilibili.com/read/cv26457908/?spm_id_from=333.999.0.0</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 资源分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>查询助手使用文档</title>
      <link href="/posts/aade595c.html"/>
      <url>/posts/aade595c.html</url>
      
        <content type="html"><![CDATA[<div id="title_style">    <h1>查询助手使用文档📙</h1></div><a class="welcome">欢迎</a><h2 id="此项目已归档"><a href="#此项目已归档" class="headerlink" title="此项目已归档"></a>此项目已归档</h2><hr><h1 id="大纲"><a href="#大纲" class="headerlink" title="大纲"></a>大纲</h1><h2 id="查询助手是什么"><a href="#查询助手是什么" class="headerlink" title="查询助手是什么?"></a>查询助手是什么?</h2><p>查询助手（英文名称：QueryHelper）可以让您便捷的查询成绩。QueryHelper使用Fast API开发，由网页端和客户端驱动组成，所有数据运算均在客户端完成,无需将用户的账号密码等个人信息上传云端，大大降低用户个人信息泄露的风险和远程服务器开销。<br>QueryHelper具有无人值守功能，可以在目标服务器超载时实现无人值守等待响应，自动识别验证码，失败自动重试等。<br><a href="https://sboxm.github.io/queryhelper" target="_blank" class="page-button">访问主页🖇</a></p><h2 id="问题反馈"><a href="#问题反馈" class="headerlink" title="问题反馈"></a>问题反馈</h2><p>如果在使用过程中发现了什么缺陷，或是有新的需求提议，请先检查一下以前的文档、issue 是否提过。<br>如果疑似 Bug 或是功能提议，请创建一个 issue 用于追踪问题；<br>Github<i class="fab fa-github"></i>：<a href="https://github.com/cnhkbbs/QueryHelper">https://github.com/cnhkbbs/QueryHelper</a></p><h2 id="联系"><a href="#联系" class="headerlink" title="联系"></a>联系</h2><p>开发者Email: <a href="mailto:&#109;&#x61;&#x69;&#x6c;&#x40;&#115;&#98;&#111;&#120;&#x6d;&#46;&#x65;&#x75;&#46;&#111;&#114;&#103;">&#109;&#x61;&#x69;&#x6c;&#x40;&#115;&#98;&#111;&#120;&#x6d;&#46;&#x65;&#x75;&#46;&#111;&#114;&#103;</a></p><hr><h1 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h1><h2 id="获取QueryHelper"><a href="#获取QueryHelper" class="headerlink" title="获取QueryHelper"></a>获取QueryHelper</h2><p>QueryHelper由网页端和驱动程序端两部分组成<br>你可以在<a href="https://github.com/cnhkbbs/QueryHelper/releases">GIthub Release</a> 页面获取已经构建打包完成的驱动程序.<br><del><br>或是从<a href="https://sboxm.lanzoub.com/b019iflqb">蓝奏云</a> <a href="https://sboxm.lanzoub.com/b019iflqb">https://sboxm.lanzoub.com/b019iflqb</a>  密码:bvvy 下载驱动程序<br></del></p><p>如果想要自行从源代码构建，请参阅以下章节：<br><a href="#构建" class="page-button">构建📙</a></p><h2 id="使用QueryHelper"><a href="#使用QueryHelper" class="headerlink" title="使用QueryHelper"></a>使用QueryHelper</h2><h3 id="Step1-运行驱动"><a href="#Step1-运行驱动" class="headerlink" title="Step1 运行驱动"></a>Step1 运行驱动</h3><p><img src="https://cdnjson.com/images/2023/09/13/QQ20230913133350.md.png" alt="运行截图"></p><h3 id="Step2-打开前端网页"><a href="#Step2-打开前端网页" class="headerlink" title="Step2 打开前端网页"></a>Step2 打开前端网页</h3><p>访问前端网页：<br><a href="https://cnhkbbs.github.io/jstools/QueryHelper/" target="_blank" class="page-button">点此访问🖇</a><br><img src="https://cdnjson.com/images/2023/09/13/35711.md.png" alt="网页截图"></p><hr><h1 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h1><table><thead><tr><th>参数名</th><th>说明</th><th>示例值</th></tr></thead><tbody><tr><td>账号</td><td>学号或教工号</td><td>123456789</td></tr><tr><td>密码</td><td>账号对应的密码</td><td>11223344</td></tr><tr><td>姓名</td><td>中文姓名</td><td>张三</td></tr><tr><td>目标服务器</td><td>教务网址</td><td><a href="http://127.0.0.1/">http://127.0.0.1</a></td></tr><tr><td>安全时间</td><td>执行查询操作每次向目标服务器发送请求的间隔时间，最低为2秒</td><td>5</td></tr><tr><td>单次执行次数</td><td>每次提交任务和自动重试次数，最大为10次</td><td>5</td></tr><tr><td>gnmkdm</td><td>功能模块代码，可从浏览器自行抓包获得</td><td>N121605</td></tr><tr><td>Header</td><td>对的目标服务器请更换请求头</td><td>2</td></tr></tbody></table><hr><h1 id="常见问题-Q-A"><a href="#常见问题-Q-A" class="headerlink" title="常见问题 Q &amp; A"></a>常见问题 Q &amp; A</h1><h2 id="🤔-无法提交任务？打开驱动后仍显示无法连接驱动？"><a href="#🤔-无法提交任务？打开驱动后仍显示无法连接驱动？" class="headerlink" title="🤔 无法提交任务？打开驱动后仍显示无法连接驱动？"></a>🤔 无法提交任务？打开驱动后仍显示无法连接驱动？</h2><p>🌈 请尝试重启驱动或刷新前端网页</p><h2 id="🤔-提交任务后驱动未作出响应、驱动卡住不动？"><a href="#🤔-提交任务后驱动未作出响应、驱动卡住不动？" class="headerlink" title="🤔 提交任务后驱动未作出响应、驱动卡住不动？"></a>🤔 提交任务后驱动未作出响应、驱动卡住不动？</h2><p>🌈 鼠标左键单击选中驱动，然后按下鼠标右键即可</p><h2 id="🤔-如何获取gnmkdm"><a href="#🤔-如何获取gnmkdm" class="headerlink" title="🤔 如何获取gnmkdm?"></a>🤔 如何获取gnmkdm?</h2><p>🌈 手动登录目标教务网址，然后按“F12”打开开发者模式，在开发者模式中选择“网络”或“network”选项，然后点击教务网菜单中的成绩查询，观察开发者选项框中的请求地址便可找到gnmkdm值<br><img src="https://cdnjson.com/images/2023/09/16/81947.png" alt="81947.png"></p><h2 id="🤔-驱动显示未知异常？没有找到想要的答案？"><a href="#🤔-驱动显示未知异常？没有找到想要的答案？" class="headerlink" title="🤔 驱动显示未知异常？没有找到想要的答案？"></a>🤔 驱动显示未知异常？没有找到想要的答案？</h2><p>🌈  疑似 Bug 或是功能提议，请创建一个 issue 用于追踪问题；<br>🌈  Github地址：<a href="https://github.com/cnhkbbs/QueryHelper">https://github.com/cnhkbbs/QueryHelper</a><br>🌈  开发者Email: <a href="mailto:&#x6d;&#x61;&#x69;&#108;&#64;&#x73;&#98;&#x6f;&#x78;&#x6d;&#46;&#101;&#117;&#x2e;&#111;&#114;&#103;">&#x6d;&#x61;&#x69;&#108;&#64;&#x73;&#98;&#x6f;&#x78;&#x6d;&#46;&#101;&#117;&#x2e;&#111;&#114;&#103;</a></p><hr><h1 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h1><h2 id="💡检查驱动连接"><a href="#💡检查驱动连接" class="headerlink" title="💡检查驱动连接"></a>💡检查驱动连接</h2><h3 id="基本说明"><a href="#基本说明" class="headerlink" title="基本说明"></a>基本说明</h3><table><thead><tr><th></th></tr></thead><tbody><tr><td>接口地址：<a href="http://127.0.0.1:2023/">http://127.0.0.1:2023</a></td></tr><tr><td>返回格式：json</td></tr><tr><td>请求方式: post</td></tr><tr><td>请求参数：无</td></tr></tbody></table><h3 id="请求参数说明"><a href="#请求参数说明" class="headerlink" title="请求参数说明"></a>请求参数说明</h3><p>无</p><h2 id="💡提交查询任务"><a href="#💡提交查询任务" class="headerlink" title="💡提交查询任务"></a>💡提交查询任务</h2><h3 id="基本说明-1"><a href="#基本说明-1" class="headerlink" title="基本说明"></a>基本说明</h3><table><thead><tr><th></th></tr></thead><tbody><tr><td>接口地址：<a href="http://127.0.0.1:2023/submit">http://127.0.0.1:2023/submit</a></td></tr><tr><td>返回格式：HTML</td></tr><tr><td>请求方式: post</td></tr><tr><td>请求参数: name,password，chinese_name，server，safe_time，executions，gnmkdm，header</td></tr></tbody></table><h3 id="请求参数说明-1"><a href="#请求参数说明-1" class="headerlink" title="请求参数说明"></a>请求参数说明</h3><table><thead><tr><th>名称</th><th>类型</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td>name</td><td>string</td><td>必填</td><td>学号或教工号</td></tr><tr><td>password</td><td>string</td><td>必填</td><td>账号对应的密码</td></tr><tr><td>chinese_name</td><td>string</td><td>必填</td><td>中文姓名</td></tr><tr><td>server</td><td>string</td><td>必填</td><td>教务网址</td></tr><tr><td>safe_time</td><td>string</td><td>必填</td><td>执行查询操作每次向目标服务器发送请求的间隔时间，最低为2秒</td></tr><tr><td>executions</td><td>string</td><td>必填</td><td>每次提交任务和自动重试次数，最大为10次</td></tr><tr><td>gnmkdm</td><td>string</td><td>必填</td><td>功能模块代码，可从浏览器自行抓包获得</td></tr><tr><td>header</td><td>string</td><td>必填</td><td>请求头，对于有反爬措施的目标服务器请更换请求头</td></tr></tbody></table><h2 id="💡获取查询结果"><a href="#💡获取查询结果" class="headerlink" title="💡获取查询结果"></a>💡获取查询结果</h2><h3 id="基本说明-2"><a href="#基本说明-2" class="headerlink" title="基本说明"></a>基本说明</h3><table><thead><tr><th></th></tr></thead><tbody><tr><td>接口地址：<a href="http://127.0.0.1:2023/getresult">http://127.0.0.1:2023/getresult</a></td></tr><tr><td>返回格式：HTML</td></tr><tr><td>请求方式: post</td></tr><tr><td>请求参数：无</td></tr></tbody></table><h3 id="请求参数说明-2"><a href="#请求参数说明-2" class="headerlink" title="请求参数说明"></a>请求参数说明</h3><p>无</p><hr><h1 id="开发者模式"><a href="#开发者模式" class="headerlink" title="开发者模式"></a>开发者模式</h1><h2 id="关于开发者模式"><a href="#关于开发者模式" class="headerlink" title="关于开发者模式"></a>关于开发者模式</h2><p>开发者模式可以通过一定的指令，解除驱动对用户提交任务参数的限制，例如安全时间和单次执行次数等。</p><h2 id="如何开启"><a href="#如何开启" class="headerlink" title="如何开启"></a>如何开启</h2><p>账号栏输入 dev 并在其它栏随便输入一些字符，提交即可启用开发者模式。</p><hr><h1 id="构建"><a href="#构建" class="headerlink" title="构建"></a>构建</h1><p>QueryHelper项目主要由两部分组成：驱动主仓库<a href="https://github.com/cnhkbbs/QueryHelper">QueryHelper</a>,以及前端仓库<a href="https://github.com/cnhkbbs/staticcdn/tree/main/QueryHelper">staticcdn&#x2F;QueryHelper</a></p><h2 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h2><ul><li>Python 3.11</li><li>PyCharm (可选)</li></ul><h2 id="开始构建"><a href="#开始构建" class="headerlink" title="开始构建"></a>开始构建</h2><h3 id="安装python软件包"><a href="#安装python软件包" class="headerlink" title="安装python软件包"></a>安装python软件包</h3><p>自行安装所有必要的python软件包，无特别版本要求，使用PyCharm自动安装即可</p><h3 id="安装pyinstaller"><a href="#安装pyinstaller" class="headerlink" title="安装pyinstaller"></a>安装pyinstaller</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyinstaller</span><br></pre></td></tr></table></figure><h3 id="修改ddddocr-init-py-第466行"><a href="#修改ddddocr-init-py-第466行" class="headerlink" title="修改ddddocr init.py 第466行"></a>修改ddddocr <strong>init</strong>.py 第466行</h3><p>修改前</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">image = image.resize((int(image.size[0] * (64 / image.size[1])), 64), Image.ANTIALIAS).convert(&#x27;L&#x27;)</span><br></pre></td></tr></table></figure><p>修改为</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">image = image.resize((int(image.size[0] * (64 / image.size[1])), 64), Image.LANCZOS).convert(&#x27;L&#x27;)</span><br></pre></td></tr></table></figure><h3 id="进行编译"><a href="#进行编译" class="headerlink" title="进行编译"></a>进行编译</h3><p>使用以下指令进行编译</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller -F main.py -p 项目软件包绝对地址</span><br></pre></td></tr></table></figure><p>例如</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller -F main.py -p E:\pyProject\QueryHelper\venv\Lib\site-packages</span><br></pre></td></tr></table></figure><h3 id="修改-main-spec"><a href="#修改-main-spec" class="headerlink" title="修改 main.spec"></a>修改 main.spec</h3><p>修改编译生成的 main.spec 文件第11行为</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">datas=[(&#x27;./venv/Lib/site-packages/ddddocr/common.onnx&#x27;,&#x27;ddddocr&#x27;),(&#x27;./venv/Lib/site-packages/onnxruntime/capi/onnxruntime_providers_shared.dll&#x27;,&#x27;onnxruntime\\capi&#x27;)],</span><br></pre></td></tr></table></figure><h3 id="使用修改后的配置文件重新编译"><a href="#使用修改后的配置文件重新编译" class="headerlink" title="使用修改后的配置文件重新编译"></a>使用修改后的配置文件重新编译</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller .\main.spec</span><br></pre></td></tr></table></figure><h3 id="编译完成"><a href="#编译完成" class="headerlink" title="编译完成"></a>编译完成</h3><p>编译完成的文件位于项目根目录的dist文件夹下。</p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><style>    .welcome{        font-size: 50px;        text-decoration: none !important;        color: black !important;    }    #title_style{        margin: 0 auto;        text-align: center;    }    .page-button{        font-size: 20px;        margin: 0 auto;        text-align: center;        display: block;        border: 2px solid #49b1f5;        text-decoration: none !important;        border-radius: 15px !important;        width: auto;    }    .page-button:hover{        background-color: #49b1f5 !important;        color: white !important;        cursor: pointer !important;    }</style>]]></content>
      
      
      
        <tags>
            
            <tag> 文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>樱花飘落效果</title>
      <link href="/posts/73950185.html"/>
      <url>/posts/73950185.html</url>
      
        <content type="html"><![CDATA[<h1>樱花飘落效果</h1><script src="https://fastly.jsdelivr.net/gh/cnhkbbs/jstools/hexo/sakura.js"></script><h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><p>已在当前页面实时渲染</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;https://fastly.jsdelivr.net/gh/cnhkbbs/jstools/hexo/sakura.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 经验分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>手动清理C盘工具-SpaceSniffer</title>
      <link href="/posts/5d30d3fa.html"/>
      <url>/posts/5d30d3fa.html</url>
      
        <content type="html"><![CDATA[<div style="margin: 0 auto;text-align: center;"><h1>手动清理C盘工具-SpaceSniffer</h1></div><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><style type="text/css">            p{                font-size: 20px;            }            #buttonurl{                display: block;                  margin-top: 14px;                width: 200px;                height: 49px;                  background-color: var(--btn-bg);                  color: white !important;                  text-align: center;                  line-height: 2.4;            }</style><p>SpaceSniffer是Windows上一款以块状树平铺直观展现磁盘空间占用情况的软件，使用简单，功能直击痛点，而且大小仅2.20MB。</p><p>由于是绿色软件，下载解压后无需安装，点击SpaceSniffer.exe即可运行</p><p><a id="buttonurl"  rel="noopener" href="https://file.sboxm.eu.org/large/SpaceSniffer.exe">直接下载</a></p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 资源分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一个按钮样式</title>
      <link href="/posts/2ed4eaf0.html"/>
      <url>/posts/2ed4eaf0.html</url>
      
        <content type="html"><![CDATA[<h2 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h2><p><button class="test-button">测试按钮</button></p><p>123</p><h2 id="CSS代码"><a href="#CSS代码" class="headerlink" title="CSS代码"></a>CSS代码</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line"> <span class="attribute">text-decoration</span>: none;</span><br><span class="line"> <span class="attribute">position</span>: absolute;</span><br><span class="line"> <span class="attribute">border</span>: none;</span><br><span class="line"> <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line"> <span class="attribute">font-family</span>: inherit;</span><br><span class="line"> <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line"> <span class="attribute">width</span>: <span class="number">9em</span>;</span><br><span class="line"> <span class="attribute">height</span>: <span class="number">3em</span>;</span><br><span class="line"> <span class="attribute">line-height</span>: <span class="number">2em</span>;</span><br><span class="line"> <span class="attribute">text-align</span>: center;</span><br><span class="line"> <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>,<span class="number">#03a9f4</span>,<span class="number">#f441a5</span>,<span class="number">#ffeb3b</span>,<span class="number">#03a9f4</span>);</span><br><span class="line"> <span class="attribute">background-size</span>: <span class="number">300%</span>;</span><br><span class="line"> <span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line"> <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line"> <span class="attribute">animation</span>: ani <span class="number">8s</span> linear infinite;</span><br><span class="line"> <span class="attribute">border</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> ani &#123;</span><br><span class="line"> <span class="number">0%</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0%</span>;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="number">100%</span> &#123;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">400%</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line"> <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"> <span class="attribute">position</span>: absolute;</span><br><span class="line"> <span class="attribute">top</span>: -<span class="number">5px</span>;</span><br><span class="line"> <span class="attribute">left</span>: -<span class="number">5px</span>;</span><br><span class="line"> <span class="attribute">right</span>: -<span class="number">5px</span>;</span><br><span class="line"> <span class="attribute">bottom</span>: -<span class="number">5px</span>;</span><br><span class="line"> <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line"> <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">90deg</span>,<span class="number">#03a9f4</span>,<span class="number">#f441a5</span>,<span class="number">#ffeb3b</span>,<span class="number">#03a9f4</span>);</span><br><span class="line"> <span class="attribute">background-size</span>: <span class="number">400%</span>;</span><br><span class="line"> <span class="attribute">border-radius</span>: <span class="number">35px</span>;</span><br><span class="line"> <span class="attribute">transition</span>: <span class="number">1s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line"> <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">20px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line"> <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">32deg</span>,<span class="number">#03a9f4</span>,<span class="number">#f441a5</span>,<span class="number">#ffeb3b</span>,<span class="number">#03a9f4</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><style>    .test-button { text-decoration: none; position: absolute; border: none; font-size: 14px; font-family: inherit; color: #fff; width: 9em; height: 3em; line-height: 2em; text-align: center; background: linear-gradient(90deg,#03a9f4,#f441a5,#ffeb3b,#03a9f4); background-size: 300%; border-radius: 30px; z-index: 1;}.test-button:hover { animation: ani 8s linear infinite; border: none;}@keyframes ani { 0% {  background-position: 0%; } 100% {  background-position: 400%; }}.test-button:before { content: ''; position: absolute; top: -5px; left: -5px; right: -5px; bottom: -5px; z-index: -1; background: linear-gradient(90deg,#03a9f4,#f441a5,#ffeb3b,#03a9f4); background-size: 400%; border-radius: 35px; transition: 1s;}.test-button:hover::before { filter: blur(20px);}.test-button:active { background: linear-gradient(32deg,#03a9f4,#f441a5,#ffeb3b,#03a9f4);}</style>]]></content>
      
      
      
        <tags>
            
            <tag> 经验分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>正方教务爬虫</title>
      <link href="/posts/7d567f8e.html"/>
      <url>/posts/7d567f8e.html</url>
      
        <content type="html"><![CDATA[<h1 id="正方教务爬虫"><a href="#正方教务爬虫" class="headerlink" title="正方教务爬虫"></a>正方教务爬虫</h1><p>基于selenium的正方教务成绩爬虫</p><h3 id="关于"><a href="#关于" class="headerlink" title="关于"></a>关于</h3><hr><p>一个正方教务爬虫，可以自动跳到成绩页面并保存成绩..</p><hr><h3 id="能力"><a href="#能力" class="headerlink" title="能力"></a>能力</h3><p>自动登录✔<br>自动验证码识别填写✔<br>失败自动重试✔<br>自动保存成绩✔</p><h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><h2 id="step-1-下载"><a href="#step-1-下载" class="headerlink" title="step 1 下载"></a>step 1 下载</h2><p>直接复制或下载本仓库里的spider.py文件到本地</p><h2 id="step-2-安装最新版Chrome浏览器（已有请跳过）"><a href="#step-2-安装最新版Chrome浏览器（已有请跳过）" class="headerlink" title="step 2 安装最新版Chrome浏览器（已有请跳过）"></a>step 2 安装最新版Chrome浏览器（已有请跳过）</h2><p><a href="https://www.google.cn/intl/zh-CN/chrome/">https://www.google.cn/intl/zh-CN/chrome/</a></p><h2 id="step-3-下载对应的驱动"><a href="#step-3-下载对应的驱动" class="headerlink" title="step 3 下载对应的驱动"></a>step 3 下载对应的驱动</h2><p>下载地址  <a href="http://chromedriver.storage.googleapis.com/index.html">http://chromedriver.storage.googleapis.com/index.html</a><br>驱动安装教程 <a href="https://blog.csdn.net/m0_67575344/article/details/126142295">https://blog.csdn.net/m0_67575344/article/details/126142295</a></p><h2 id="step-4-安装所需模块"><a href="#step-4-安装所需模块" class="headerlink" title="step 4 安装所需模块"></a>step 4 安装所需模块</h2><ol><li>ddddocr</li><li>selenium</li></ol><h5 id="命令行安装"><a href="#命令行安装" class="headerlink" title="命令行安装"></a>命令行安装</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install ddddocr</span><br><span class="line">pip install selenium</span><br></pre></td></tr></table></figure><h5 id="自动安装"><a href="#自动安装" class="headerlink" title="自动安装"></a>自动安装</h5><p>使用pycharm自动安装</p><h2 id="step-5-运行"><a href="#step-5-运行" class="headerlink" title="step 5 运行"></a>step 5 运行</h2><p>直接在编译器环境运行</p><h2 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">import time</span><br><span class="line">import datetime</span><br><span class="line">import ddddocr</span><br><span class="line">import openpyxl</span><br><span class="line">from selenium import webdriver</span><br><span class="line">from selenium.webdriver.chrome.service import Service as ChromeService</span><br><span class="line">from selenium.webdriver.common.by import By</span><br><span class="line">from selenium.webdriver import ActionChains</span><br><span class="line"></span><br><span class="line">service = ChromeService(executable_path=r&#x27;C:\Program Files\Google\Chrome\Application\chromedriver.exe&#x27;)  # chrome驱动路径</span><br><span class="line">chrome = webdriver.Chrome(service=service)</span><br><span class="line"></span><br><span class="line"># 配置项</span><br><span class="line"></span><br><span class="line">name = &#x27;123456&#x27;  # 账号</span><br><span class="line">pwd = &#x27;132456l&#x27;  # 密码</span><br><span class="line">safe_time = 3  # 安全间隔时间</span><br><span class="line">servernum = 0  # 选择服务器 填： 0,1,2,3</span><br><span class="line">retry = True  # 失败重试</span><br><span class="line">mode = 1  </span><br><span class="line">servers = [&#x27;http://127.0.0.1/&#x27;, &#x27;http://127.0.0.1/&#x27;, &#x27;http://127.0.0.1/&#x27;, &#x27;http://127.0.0.1/&#x27;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def print_INFO(message):</span><br><span class="line">    print(&#x27;[&#x27; + datetime.datetime.now().strftime(&#x27;%H:%M:%S&#x27;) + &#x27;]&#x27; + message)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def print_ERROR(error):</span><br><span class="line">    print(&#x27;[&#x27; + datetime.datetime.now().strftime(&#x27;%H:%M:%S&#x27;) + &#x27;]&#x27; + &quot;\033[1;31m&quot; + error + &quot; \033[0m&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def print_Exception(e):</span><br><span class="line">    print(&quot;\033[1;31m异常!\033[0m\n&quot;)</span><br><span class="line">    print(e)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def recognize():</span><br><span class="line">    if chrome.find_element(By.ID, &#x27;icode&#x27;).screenshot(&#x27;img.png&#x27;):  # 捕获验证码</span><br><span class="line">        # 验证码识别</span><br><span class="line">        with open(&#x27;img.png&#x27;, &#x27;rb&#x27;) as f:</span><br><span class="line">            img = f.read()</span><br><span class="line">        ocr = ddddocr.DdddOcr()</span><br><span class="line">        result = ocr.classification(img)</span><br><span class="line">        print(&#x27;[&#x27; + datetime.datetime.now().strftime(&#x27;%H:%M:%S&#x27;) + &#x27;]&#x27; + &quot;验证码&quot; + result)</span><br><span class="line">        return result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def auto_Login():</span><br><span class="line">    chrome.get(servers[servernum])</span><br><span class="line">    print_INFO(&quot;尝试登录&quot; + str(servernum) + &#x27;号服务器&#x27;)</span><br><span class="line">    if chrome.title == &#x27;ERROR - 出错啦！&#x27;:</span><br><span class="line">        return False</span><br><span class="line">    try:</span><br><span class="line">        chrome.find_element(By.ID, &#x27;txtUserName&#x27;).send_keys(name)</span><br><span class="line">        chrome.find_element(By.ID, &#x27;TextBox2&#x27;).send_keys(pwd)</span><br><span class="line">    except:</span><br><span class="line">        print_Exception(Exception)</span><br><span class="line">        return False</span><br><span class="line">    chrome.find_element(By.ID, &#x27;txtSecretCode&#x27;).send_keys(recognize())</span><br><span class="line">    try:</span><br><span class="line">        chrome.find_element(By.ID, &#x27;Button1&#x27;).click()</span><br><span class="line">    except:</span><br><span class="line">        print_Exception(Exception)</span><br><span class="line">        return False</span><br><span class="line">    if chrome.title == &#x27;ERROR - 出错啦！&#x27; or chrome.title == &#x27;欢迎使用正方教务管理系统！请登录&#x27;:</span><br><span class="line">        print_ERROR(&#x27;跳转失败&#x27;)</span><br><span class="line">        return False</span><br><span class="line">    return True</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_score():</span><br><span class="line">    try:</span><br><span class="line">        hovertarget = chrome.find_element(By.XPATH, &#x27;/html/body/div/div[1]/ul/li[5]/a/span&#x27;)</span><br><span class="line">        ActionChains(chrome).move_to_element(hovertarget).perform()</span><br><span class="line">        chrome.find_element(By.XPATH, &#x27;/html/body/div/div[1]/ul/li[5]/ul/li[4]/a&#x27;).click()</span><br><span class="line">    except:</span><br><span class="line">        print_Exception(Exception)</span><br><span class="line">        print_ERROR(&#x27;成绩查询按钮点击失败&#x27;)</span><br><span class="line">        return False</span><br><span class="line">    if chrome.title == &#x27;ERROR - 出错啦！&#x27; or chrome.title == &#x27;欢迎使用正方教务管理系统！请登录&#x27;:</span><br><span class="line">        auto_Login()</span><br><span class="line">        return False</span><br><span class="line">    time.sleep(5)</span><br><span class="line">    try:</span><br><span class="line">        chrome.switch_to.frame(&#x27;zhuti&#x27;)</span><br><span class="line">        chrome.find_element(By.ID, &#x27;btn_zcj&#x27;).click()</span><br><span class="line">        if chrome.title == &#x27;ERROR - 出错啦！&#x27; or chrome.title == &#x27;欢迎使用正方教务管理系统！请登录&#x27;:</span><br><span class="line">            chrome.switch_to.default_content()</span><br><span class="line">            while 1:</span><br><span class="line">                if auto_Login():</span><br><span class="line">                    break</span><br><span class="line">            return False</span><br><span class="line">        # 保存到excel</span><br><span class="line">        work_book = openpyxl.Workbook()</span><br><span class="line">        shell = work_book.worksheets[0]</span><br><span class="line">        trs = chrome.find_elements(By.XPATH, &#x27;/html/body/form/div[2]/div/span/div[1]/table[1]/tbody/tr&#x27;)</span><br><span class="line">        trnum = 1</span><br><span class="line">        for tr in trs:</span><br><span class="line">            tdnum = 1</span><br><span class="line">            while 1:</span><br><span class="line">                tdXPATH = &#x27;/html/body/form/div[2]/div/span/div[1]/table[1]/tbody/tr[&#x27; + str(trnum) + &#x27;]/td[&#x27; + str(tdnum) + &#x27;]&#x27;</span><br><span class="line">                shell.cell(trnum, tdnum, chrome.find_element(By.XPATH, tdXPATH).text)</span><br><span class="line">                tdnum += 1</span><br><span class="line">                if tdnum == 20:</span><br><span class="line">                    break</span><br><span class="line">            trnum += 1</span><br><span class="line">        work_book.save(&#x27;score.xlsx&#x27;)</span><br><span class="line">        chrome.switch_to.default_content()</span><br><span class="line">    except:</span><br><span class="line">        print_Exception(Exception)</span><br><span class="line">        print_ERROR(&#x27;成绩获取错误&#x27;)</span><br><span class="line">        return False</span><br><span class="line">    return True</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    if mode == 1:</span><br><span class="line">        print_INFO(&#x27;开始查询成绩&#x27;)</span><br><span class="line">        chrome.maximize_window()</span><br><span class="line">        while 1:</span><br><span class="line">            trytimes = 0</span><br><span class="line">            succeed = False</span><br><span class="line">            while 1:</span><br><span class="line">                trytimes += 1</span><br><span class="line">                if auto_Login():</span><br><span class="line">                    succeed = True</span><br><span class="line">                    print_INFO(&#x27;登录成功&#x27;)</span><br><span class="line">                    break</span><br><span class="line">                else:</span><br><span class="line">                    print_ERROR(&#x27;尝试登录失败&#x27;)</span><br><span class="line">                    if retry:</span><br><span class="line">                        if trytimes &gt; 10 and succeed == False:</span><br><span class="line">                            print(&#x27;\033[0;32m已经为你尝试了&#x27; + str(</span><br><span class="line">                                trytimes) + &#x27;次登录, 全部登录失败。建议更换服务器或检查你的账号密码是否正确。\033[0m&#x27;)</span><br><span class="line">                        time.sleep(safe_time)</span><br><span class="line">                        continue</span><br><span class="line">                    else:</span><br><span class="line">                        break</span><br><span class="line">            time.sleep(1)</span><br><span class="line">            trygetscore = 0</span><br><span class="line">            get_scoreFaile = False</span><br><span class="line">            while 1:</span><br><span class="line">                if trygetscore &gt;= 5:</span><br><span class="line">                    get_scoreFaile = True</span><br><span class="line">                    break</span><br><span class="line">                trygetscore += 1</span><br><span class="line">                status = get_score()</span><br><span class="line">                if status:</span><br><span class="line">                    print_INFO(&#x27;查询成功&#x27;)</span><br><span class="line">                    break</span><br><span class="line">                else:</span><br><span class="line">                    print_ERROR(&#x27;查询失败&#x27;)</span><br><span class="line">                    if retry:</span><br><span class="line">                        time.sleep(safe_time)</span><br><span class="line">                        continue</span><br><span class="line">                    else:</span><br><span class="line">                        break</span><br><span class="line">            if get_scoreFaile is True:</span><br><span class="line">                continue</span><br><span class="line">            else:</span><br><span class="line">                a = input()</span><br><span class="line">    elif mode == 2:</span><br><span class="line">        print_INFO(&#x27;Exit&#x27;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>liveserver插件无法打开浏览器问题修复</title>
      <link href="/posts/bb506e3a.html"/>
      <url>/posts/bb506e3a.html</url>
      
        <content type="html"><![CDATA[<center><h1>liveserver插件无法打开浏览器问题修复</h1></center><h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>vscode在使用liveserver插件测试网页时无法自动弹出浏览器</p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>打开电脑设置，找到“关于”，打开高级系统设置<br><img src="https://ae01.alicdn.com/kf/H561119bb81dc4210a74c9a46c2384114N.png" alt="图片"></p><p>打开环境变量</p><p><img src="https://ae01.alicdn.com/kf/H19803ae34adb4176a9c20d6beb397284l.png" alt="图片"></p><p>找到Path点击编辑</p><p><img src="https://ae01.alicdn.com/kf/H05601bbdb6134fe1bd2e43436162b746b.png" alt="图片"></p><p>新增以下内容并保存</p><p><img src="https://ae01.alicdn.com/kf/He3c7a562ad8b4d4e92fe03eb6e5f9ac9w.png" alt="图片"></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">C:\Program Files\Common Files\IntelWirelessCommon</span><br><span class="line"></span><br><span class="line">%SystemRoot%\system32</span><br><span class="line"></span><br><span class="line">%SystemRoot%</span><br><span class="line"></span><br><span class="line">%SystemRoot%\System32\Wbem</span><br><span class="line"></span><br><span class="line">%SYSTEMROOT%\System32\WindowsPowerShell\v1.0\</span><br><span class="line"></span><br><span class="line">%SYSTEMROOT%\System32\OpenSSH\</span><br><span class="line"></span><br><span class="line">C:\Program Files (x86)]Intel\Intel® Processor Graphics</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 经验分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用Hexo和Github搭建个人博客</title>
      <link href="/posts/2e566f5.html"/>
      <url>/posts/2e566f5.html</url>
      
        <content type="html"><![CDATA[<center><h1>利用Hexo和Github搭建个人博客</h1></center><h3 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a>环境要求</h3><ul><li><p>Windows7~</p></li><li><p>Linux Ubuntu</p></li><li><p>macOS</p></li></ul><h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><h4 id="下载git"><a href="#下载git" class="headerlink" title="下载git"></a>下载git</h4><p>git官网 <a href="https://git-scm.com/">https://git-scm.com/</a></p><p>Windows 下载地址 <a href="https://git-scm.com/download/win">https://git-scm.com/download/win</a></p><p>Linux 下载 </p><p><code># apt-get install git</code></p><p>macOS <a href="https://git-scm.com/download/mac">https://git-scm.com/download/mac</a></p><p><img src="https://cdnjson.com/images/2023/03/07/H395a91678e364876acb4d8bf59c463cc6.png" alt="Windows下载截图"></p><p><img src="https://ae01.alicdn.com/kf/Hd8b1072979f04a8fa053e01b7f4d1212w.png" alt="Windows下载截图"></p><h4 id="git安装"><a href="#git安装" class="headerlink" title="git安装"></a>git安装</h4><p><strong>正常情况下一直点“NEXT”即可</strong></p><p>或见<a href="https://www.cnblogs.com/xueweisuoyong/p/11914045.html">图文教程</a></p><p><img src="https://ae01.alicdn.com/kf/Heba3fd2746634c1eb2e86c45e2e9a5733.png" alt="Windows安装截图"></p><h4 id="安装NodeJS"><a href="#安装NodeJS" class="headerlink" title="安装NodeJS"></a>安装NodeJS</h4><p>下载地址 <a href="https://nodejs.org/zh-cn/">https://nodejs.org/zh-cn/</a></p><p><img src="https://ae01.alicdn.com/kf/Hc6177704d7aa47078317e3e32b5a8897b.png" alt="Windows安装截图"></p><p><img src="https://ae01.alicdn.com/kf/H022852bfc430417aa41833279ade8cf7A.png" alt="Windows安装截图"></p><h4 id="git使用前配置"><a href="#git使用前配置" class="headerlink" title="git使用前配置"></a>git使用前配置</h4><p><strong>git使用提示：由于git的操作类似于Linux系统，所以无法使用Windows的快捷键对命令进行复制粘贴！！需要复制粘贴请使用鼠标右键菜单</strong></p><p>在合适位置新建一个文件夹来存放你的网站文件</p><p><img src="https://ae01.alicdn.com/kf/H73746586dec745189fafcce86ed4314bn.png" alt="Windows安装截图"></p><p>在新建的文件夹里鼠标右键唤出菜单选择</p><p><img src="https://cdnjson.com/images/2023/03/07/H4c060a7497494b9d9e86f4015816d518s.png" alt="Windows安装截图"></p><p>安装npm淘宝镜像</p><p><code>$ npm install -g cnpm --registry=https://registry.npmmirror.com</code></p><p><img src="https://ae01.alicdn.com/kf/H952070e1b43c410088353a8c68ee0e73T.png" alt="运行结果示例"></p><p>升级npm版本</p><p><code>npm install -g npm@8.4.1</code></p><p><img src="https://cdnjson.com/images/2023/03/07/H9850e3e3899548ed953991b8600034d6U.png" alt="运行结果示例"></p><p>绑定GitHub账户</p><p>本地设置用户名和链接远程账户</p><p><code>git config --global user.email&quot;你的Github邮箱&quot;</code></p><p>例如</p><p><code>git config --global user.email&quot;123@123.com&quot;</code></p><p>配置密钥</p><p><code>ssh-keygen -t rsa -C &quot;你的Github邮箱&quot;</code></p><p>按照提示找到生成的密钥文件</p><p><img src="https://cdnjson.com/images/2023/03/07/H8bcb63b8f6d24f61b1f8fd3e2d030ed2u.png" alt="运行结果示例"></p><p>打开id_rsa.pub,复制里面的key。里面的key是一对看不懂的字符数字组合，不用管他，直接复制；回到github网站，进入Account Settings，左边选择SSH Keys，Add SSH Key。然后把复制的数字粘贴进去。</p><p><img src="https://cdnjson.com/images/2023/03/07/H658b277f79c94295a5e54cd999ee95ddg.png" alt="运行结果示例"></p><p><img src="https://cdnjson.com/images/2023/03/07/H5b0d3d6dac3440e98feadbafab7422bep.png" alt="SSH密钥绑定"></p><p><img src="https://cdnjson.com/images/2023/03/07/H9816c6cf706a4c048a8d3db7cac04201T.png" alt="SSH密钥绑定"></p><p><img src="https://ae01.alicdn.com/kf/Hbbdddda96078422391486e06001585d26.png" alt="ssh密钥绑定"></p><p><img src="https://ae01.alicdn.com/kf/H38460b14b3594f64ad3da02154ba7f328.png" alt="ssh密钥绑定"></p><p>验证是否成功，在git bash下输入</p><p><img src="https://ae01.alicdn.com/kf/Hc6d897a201634b45ab3380350310cf692.png" alt="ssh密钥绑定"></p><h4 id="Hexo安装"><a href="#Hexo安装" class="headerlink" title="Hexo安装"></a>Hexo安装</h4><p>hexo官网 <a href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a></p><p>在刚刚新建的文件夹里点击鼠标右键，选择git bash here</p><p><img src="https://ae01.alicdn.com/kf/Hf3da84a5cf9b42b4ab83f9aef68772b8L.png" alt="hexo安装"></p><p>运行以下命令</p><p><code>$ npm install hexo-cli -g</code></p><p><img src="https://ae01.alicdn.com/kf/Hbaf9bac47da54dedb32fbf4c3319ef44L.png" alt="运行结果"></p><hr><p><strong>至此hexo已经安装完成</strong></p><hr><h4 id="Hexo的使用"><a href="#Hexo的使用" class="headerlink" title="Hexo的使用"></a>Hexo的使用</h4><p>Hexo已经安装完成，但刚刚新建的文件夹里还没有生成任何文件。现在，开始让Hexo在这个文件夹里生成一个网站</p><p><code>$ hexo init</code></p><p><img src="https://ae01.alicdn.com/kf/H1510925f307543f7a74d7c26e5f041bcM.png" alt="运行结果"></p><p>此时，这个文件夹里已经装好了你的网站配置文件</p><p><img src="https://cdnjson.com/images/2023/03/07/H6dc4bc81118f419a98b45d05cd8e616cI.png" alt="运行结果"></p><h4 id="用Hexo生成网页"><a href="#用Hexo生成网页" class="headerlink" title="用Hexo生成网页"></a>用Hexo生成网页</h4><p>执行命令</p><p><code>hexo g</code></p><p><img src="https://cdnjson.com/images/2023/03/07/H6fff6b68020440d7bae499c8c0b966fcg.png" alt="运行结果"></p><h4 id="预览新生成的网站"><a href="#预览新生成的网站" class="headerlink" title="预览新生成的网站"></a>预览新生成的网站</h4><p>执行命令</p><p><code>hexo s</code></p><p><img src="https://cdnjson.com/images/2023/03/07/H62cb908da2334dc589acfe638a27d921H.png" alt="运行结果"></p><p>访问提示的网址，可以看见网站已经成功生成</p><p><img src="https://ae01.alicdn.com/kf/Hc8da3fc4a1b64b69b345420931f745a0k.png" alt="网站截图"></p><hr><p>至此网站已经成功在本地生成，接下来实现将生成的文件上传到Github让所有人都可以看到</p><hr><h4 id="绑定Github静态页面仓库"><a href="#绑定Github静态页面仓库" class="headerlink" title="绑定Github静态页面仓库"></a>绑定Github静态页面仓库</h4><p>进入你的已经打开GitHub pages的仓库，复制仓库地址</p><p><img src="https://cdnjson.com/images/2023/03/07/H6b2f19e9f1254466a2163b22ad5a86ebd.png" alt="123"></p><p>打开刚刚新建的文件夹，找到这个yml文件</p><p><img src="https://ae01.alicdn.com/kf/He9f8f3c98f4b4b3a93e872ac971470ddd.png" alt="yml修改"></p><p>将<strong>104行</strong>之后的修改</p><p>修改前</p><p><img src="https://cdnjson.com/images/2023/03/07/H3efd4fad9e25494282d371eec7a9ed9c7.png" alt="yml修改前"></p><p><strong>修改后</strong></p><p><img src="https://ae01.alicdn.com/kf/Hd8c6982dfb544cef9902bfe2e9080ab2O.png" alt="yml修改后"></p><p>最后保存,至此仓库已经绑定完成。</p><h5 id="将网站同步到github"><a href="#将网站同步到github" class="headerlink" title="将网站同步到github"></a>将网站同步到github</h5><p>在存放网站的文件夹里打开git bash</p><p>运行以下命令</p><p><code>hexo d</code></p><p>等待上传成功，如果上传失败多运行几次上面的命令</p><hr><p>访问 你的github用户名.github.io 即可看到你的网站</p>]]></content>
      
      
      
        <tags>
            
            <tag> 经验分享 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
